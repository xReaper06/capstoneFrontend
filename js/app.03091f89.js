(function(){"use strict";var e={3620:function(e,l,a){var t=a(9242),n=a(3396),o=a(7718),i=a(3140);function s(e,l,a,t,s,u){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(o.q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1})])),_:1})}var u={name:"App",data:()=>({})},r=a(89);const d=(0,r.Z)(u,[["render",s]]);var c=d,m=a(2483),v=a(1020);const p=(0,v.Q_)("auth",{id:"auth",state:()=>({accessToken:localStorage.getItem("accessToken")||"",refreshToken:localStorage.getItem("refreshToken")||"",user:localStorage.getItem("user")||"",myLicense:[],notifications:null,licenseVerified:[],licenseNotYetVerified:[],unreadCounts:null}),getters:{isAuthenticated:e=>!!e.accessToken},actions:{async getUser(){this.user},setMyLicense(e){this.myLicense=e},async setLicenseVerified(e){this.licenseVerified=e},async setLicenseNotYetVerified(e){this.licenseNotYetVerified=e},setNotifications(e){this.notifications=e},setTokens(e,l){this.accessToken=e,this.refreshToken=l,localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",l)},clearTokens(){this.accessToken="",this.refreshToken="",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},updateAccessToken(e){this.accessToken=e,localStorage.setItem("accessToken",e)},setUser(e){this.user=e,localStorage.setItem("user",JSON.stringify(e))},updateLocalUser(e){this.user=e,localStorage.setItem("user",JSON.stringify(e))},setUnreadNotificationCount(e){this.unreadCounts=e},async logOut(){this.clearTokens(),this.user="",localStorage.removeItem("user")}}});var _=a(7771),w=a(6372),g=a(9752),f=a(1334),h=a(4075),y=a(6422),b=a(3369),W=a(9234),k=a(3289),V=a(2902);const x={key:1,class:"pt-5 mt-5 authentication"},D=(0,n._)("img",{src:"tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1),H=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","text-align":"center",color:"#007BFF"}},"SIGN IN YOUR ACCOUNT",-1),U={key:0},C={key:1},L={class:"pb-3"};function S(e,l,a,o,i,s){const u=(0,n.up)("loadingComponent"),r=(0,n.up)("router-link");return o.loading?((0,n.wg)(),(0,n.j4)(u,{key:0,isLoading:o.loading},null,8,["isLoading"])):((0,n.wg)(),(0,n.iD)("div",x,[o.error?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"error",icon:"$error",title:"Error",text:o.error},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[D,H,(0,n.Wm)(y.O,{onSubmit:(0,t.iM)(o.handleLogin,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{type:"Email",modelValue:o.email,"onUpdate:modelValue":l[0]||(l[0]=e=>o.email=e),color:"primary",label:"Email",variant:"underlined"},null,8,["modelValue"]),(0,n.Wm)(V.h,{modelValue:o.password,"onUpdate:modelValue":l[1]||(l[1]=e=>o.password=e),color:"primary",label:"Password",placeholder:"Enter your password",variant:"underlined",type:"password"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"text-center",type:"submit",color:"success"},{default:(0,n.w5)((()=>[o.loginloading?((0,n.wg)(),(0,n.iD)("span",C,"Loading...")):((0,n.wg)(),(0,n.iD)("span",U,"Sign in")),(0,n.Wm)(k.t,{icon:"mdi-chevron-right",end:""})])),_:1})])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(f.h,{class:"align-center"},{default:(0,n.w5)((()=>[(0,n.Uk)("Create an Account "),(0,n.Wm)(w.T,{text:"",to:"/userRegistration",class:"text-center",color:"success"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign Up")])),_:1})])),_:1})])),_:1},8,["onSubmit"]),(0,n._)("div",L,[(0,n.Wm)(w.T,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,{color:"success",to:"/forgot-password",class:"button3",style:{"text-decoration":"none"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Forgot-Password")])),_:1})])),_:1})])])),_:1})])),_:1})]))}a(560);var q=a(1076),z=()=>{const e=q.Z.create({baseURL:"http://localhost:8081/api"});return e.interceptors.request.use((e=>{const l=localStorage.getItem("accessToken");return l&&(e.headers.Authorization=`Bearer ${l}`),e}),(e=>Promise.reject(e))),e.interceptors.response.use((e=>e),(async e=>{const l=p(),a=e.config;if(e.response&&401===e.response.status&&!a._retry){a._retry=!0;try{const e=localStorage.getItem("refreshToken");if(!e)throw new Error("No refresh token available.");const t=await q.Z.post("http://localhost:8084/api/refresh-token",{token:e}),n=t.data.accessToken,o=t.data.user;return l.updateAccessToken(n),l.updateLocalUser(o),a.headers.Authorization=`Bearer ${n}`,(0,q.Z)(a)}catch(t){console.error("Token refresh failed:",t)}}return Promise.reject(e)})),e},P=()=>{const e=q.Z.create({baseURL:"http://localhost:8084/api"});return e},A={userRegistration(e){return P().post("/userRegistration",e)},login(e){return P().post("/login",e)},logout(e){return P().post("/logout",e)},verifyEmail(e){return z().post("/verifyEmail",e)},sendEmailtoVerify(e){return P().post("/sendEmailtoVerify",e)},insertLicense(e){return z().post("/verifyLicense",e)},verifyLicense(e){return z().post("/verifiedLicense/",e)},denyVerification(e){return z().post("/denyVerification",e)},getMyLicense(e){return z().post("/getMyLicense/",e)},getMyViolation(e){return console.log(e),z().post("/getMyViolation",e)},notifications(e){return z().post("/notifications/",e)},getAllLicenseVerified(){return z().get("/getAllLicenseVerified")},getAllLicenseNotYetVerified(){return z().get("/getAllLicenseNotYetVerified")},getAllViolationList(){return z().get("/getAllViolationList")},insertViolations(e){return z().post("/insertViolations",e)},updateViolationStatus(e){return z().post("/updateViolationStatus",e)},deleteViolationList(e){return z().post("/deleteViolationList",e)},enforcerRegistration(e){return z().post("/enforcerRegistration",e)},removeEnforcer(e){return z().post("/removeEnforcer",e)},getAllUsers(){return z().get("/getAllUsers")},getAllEnforcer(){return z().get("/getAllEnforcers")},getAllLicensebyID(e){return z().get(`/getAllLicensebyID/${e}`)},getAllViolators(){return z().get("/getAllViolators")},getAllViolatorsImpound(){return z().get("/getAllViolatorsImpound")},getAllViolatorsNormal(){return z().get("/getAllViolatorsNormal")},normalCitation(e){return z().post("/normalCitation",e)},impoundCitation(e){return z().post("/impoundCitation",e)},getUserViolations(e){return z().post("/getUserViolations",e)},enableUser(e){return z().post("/enableUser",e)},disableUser(e){return z().post("/disableUser",e)},updateLicense(e){return z().post("/updateLicense",e)},changeProfilePic(e){return z().post("/changeProfile",e)},changePassword(e){return z().post("/changePassword",e)},markNotificationAsRead(e){return z().post("/markNotificationAsRead",e)},AllViolationsList(){return z().get("/AllViolationsList")}},N=a(4870);const T={key:0,class:"loading-overlay"},I=(0,n._)("div",{style:{"font-size":"24px","font-weight":"bold","text-align":"center","margin-top":"120px",color:"#020303"}},[(0,n._)("p",null,"Welcome to TiaViolation Viewing System"),(0,n._)("br"),(0,n._)("img",{src:"../tiavvsLogo.png",alt:"",style:{height:"300px",width:"300px"}})],-1),E=[I];function O(e,l,a,t,o,i){return a.isLoading?((0,n.wg)(),(0,n.iD)("div",T,E)):(0,n.kq)("",!0)}var j={name:"LoadingComponent",props:{isLoading:Boolean}};const F=(0,r.Z)(j,[["render",O]]);var R=F,M={name:"HelloWorld",components:{loadingComponent:R},setup(){const e=(0,N.iH)(""),l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)(!1),o=or,i=(0,N.iH)(""),s=(0,N.iH)(!0);(0,n.bv)((()=>{setTimeout((()=>{s.value=!1}),2e3)}));const u=localStorage.getItem("user");i.value=JSON.parse(u);const r=async()=>{if(""===e.value||""===l.value)a.value="Fill in Empty Inputs";else{let i;try{i=await A.login({email:e.value,password:l.value}),t.value=!0,a.value="",setTimeout((()=>{if(2==i.data.user.flag)o.push("/accountDeleted");else if(0==i.data.user.flag)o.push("/accountTemporarilyLocked");else{const e=p();e.setUser(i.data.user),e.setTokens(i.data.accessToken,i.data.refreshToken),"user"==i.data.user.user_role?o.push("/user/dashboard"):"enforcer"==i.data.user.user_role?o.push("/enforcer/enforcerDashboard"):"admin"==i.data.user.user_role?o.push("/admin/adminDashboard"):t.value=!1}}),1e3)}catch(n){a.value=n.response.data.msg,t.value=!1}}},d=()=>{try{""!==i.value&&("user"===i.value.user_role?o.push("/user/dashboard"):"enforcer"==i.value.user_role?o.push("/enforcer/enforcerDashboard"):"admin"==i.value.user_role&&o.push("/admin/adminDashboard"))}catch(a){console.log(a)}};return(0,n.bv)((()=>{d()})),{email:e,password:l,error:a,loginloading:t,loading:s,handleLogin:r}}};const K=(0,r.Z)(M,[["render",S]]);var Z=K,Y=a(7139);const B=e=>((0,n.dD)("data-v-5698f04e"),e=e(),(0,n.Cn)(),e),J={class:"pt-5 mt-5 authentication"},$={key:0},G={key:1},Q=B((()=>(0,n._)("img",{src:"tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1))),X=B((()=>(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","text-align":"center",color:"#007BFF"}},"SIGN UP ACCOUNT",-1))),ee={key:0,class:"text-error"},le={key:1,class:"text-error"},ae={key:0},te={key:1},ne={class:"pb-3"};var oe={__name:"userRegistration",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(""),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,N.iH)(null),u=(0,N.iH)(!1),r=(0,N.iH)(null),d=(0,N.iH)(!1),c=(0,N.iH)(!1),m=(0,N.iH)(null),v=(0,N.iH)(!1),p=(0,N.iH)(!1),x=()=>{l.value.includes(" ")?(c.value=!0,m.value="Please Remove the spaces"):(l.value,c.value=!1)},D=()=>{const e=8,l=/[A-Z]/.test(o.value),a=/[a-z]/.test(o.value),t=/\d/.test(o.value);o.value.length>=e&&l&&a&&t?(d.value=!1,r.value="Password is Strong"):""==o.value?d.value=!1:(d.value=!0,r.value="Password is Weak")},H=async()=>{if(u.value=!0,o.value!==i.value)s.value="Password doesn't match",u.value=!1;else try{if(""===a.value||""===l.value||""===o.value||""===i.value)s.value="Empty Inputs",u.value=!1;else{const e=await A.userRegistration({nickname:l.value,email:a.value,password:o.value});e&&(setTimeout((()=>{a.value="",l.value="",o.value="",i.value="",p.value=!0,s.value=e.data.msg}),2e3),or.push("/"))}}catch(e){console.error(e),v.value=!0,s.value=e.response.data.msg,u.value=!1}};return(e,U)=>{const C=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",J,[(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[p.value?((0,n.wg)(),(0,n.iD)("div",$,[(0,n.Wm)(_.w,{color:"success",icon:"$success",title:"Success",text:s.value},null,8,["text"])])):(0,n.kq)("",!0),v.value?((0,n.wg)(),(0,n.iD)("div",G,[(0,n.Wm)(_.w,{color:"error",icon:"$error",title:"Error",text:s.value},null,8,["text"])])):(0,n.kq)("",!0),(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[Q,X,(0,n.Wm)(y.O,{onSubmit:(0,t.iM)(H,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:l.value,"onUpdate:modelValue":U[0]||(U[0]=e=>l.value=e),color:"primary",label:"nickname",variant:"underlined",onKeyup:x,required:""},null,8,["modelValue"]),c.value?((0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("span",null,(0,Y.zw)(m.value),1)])):(0,n.kq)("",!0),(0,n.Wm)(V.h,{type:"Email",modelValue:a.value,"onUpdate:modelValue":U[1]||(U[1]=e=>a.value=e),color:"primary",label:"Email",variant:"underlined",required:""},null,8,["modelValue"]),(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":U[2]||(U[2]=e=>o.value=e),color:"primary",label:"Password",placeholder:"Enter your password",variant:"underlined",type:"password",required:"",onKeyup:D},null,8,["modelValue"]),d.value?((0,n.wg)(),(0,n.iD)("div",le,(0,Y.zw)(r.value),1)):(0,n.kq)("",!0),(0,n.Wm)(V.h,{modelValue:i.value,"onUpdate:modelValue":U[3]||(U[3]=e=>i.value=e),color:"primary",label:"confirm Password",placeholder:"Enter your password",variant:"underlined",required:"",type:"password"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"text-center",type:"submit",color:"success"},{default:(0,n.w5)((()=>[u.value?((0,n.wg)(),(0,n.iD)("span",te,"Loading...")):((0,n.wg)(),(0,n.iD)("span",ae,"Sign up")),(0,n.Wm)(k.t,{icon:"mdi-chevron-right",end:""})])),_:1})])),_:1}),(0,n.Wm)(h.J)])),_:1},8,["onSubmit"]),(0,n._)("div",ne,[(0,n.Wm)(f.h,{class:"align-center ms-3"},{default:(0,n.w5)((()=>[(0,n.Uk)("I already have an "),(0,n.Wm)(C,{to:"/",class:"text-center ms-1",color:"success"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Account")])),_:1})])),_:1})])])),_:1})])),_:1})])}}};const ie=(0,r.Z)(oe,[["__scopeId","data-v-5698f04e"]]);var se=ie,ue=a(8106),re=a(2329),de=a(3150),ce=a(9657);const me=e=>((0,n.dD)("data-v-5a3933b8"),e=e(),(0,n.Cn)(),e),ve=["src"],pe={class:"text-white ms-2 me-3"},_e=me((()=>(0,n._)("span",null,"Home",-1))),we=me((()=>(0,n._)("span",null,"My License",-1))),ge=me((()=>(0,n._)("span",null,"Violation",-1))),fe=me((()=>(0,n._)("span",null,"Settings",-1))),he=me((()=>(0,n._)("span",null,"Log Out",-1))),ye=me((()=>(0,n._)("div",{class:"menu__icon"},[(0,n._)("span"),(0,n._)("span"),(0,n._)("span")],-1))),be=[ye],We=me((()=>(0,n._)("div",{class:"ms-16"},[(0,n._)("div",{class:"ms-16"})],-1))),ke=me((()=>(0,n._)("img",{src:"http://localhost:8084/images/tiavvsLogo.png",alt:"",style:{height:"50px",width:"50px"}},null,-1))),Ve=me((()=>(0,n._)("h2",{class:"app-title"},"Traffic Information And Violation Viewing System",-1)));var xe={__name:"userNav",setup(e){const l=(0,N.iH)(!0),a=(0,N.iH)(!1),t=or,s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(""),d=(0,N.iH)(""),c=async()=>(s.value=localStorage.getItem("user"),r.value=JSON.parse(s.value),u.value=r.value),m=p();(0,n.bv)((()=>{c(),d.value=m.unreadCounts}));const v=e=>or.currentRoute.value.path===e?"white":"#90A4AE",_=(0,N.iH)([]),w=async()=>{try{const e=p();y.value=JSON.parse(s.value);const l=await A.notifications({user_id:y.value.id});if(l){_.value=l.data.notifications;const a=f(_.value);e.setNotifications(_.value),e.setUnreadNotificationCount(a)}}catch(e){console.error("Error in getMyNotifications:",e)}},f=e=>e?e.filter((e=>0===e.isRead)).length:0,y=(0,N.iH)(""),W=async()=>{try{const e=p();y.value=JSON.parse(s.value);const l=await A.logout({id:y.value.id});l||console.log("Cannot Logout"),e.logOut(),t.push("/")}catch(e){console.error("Error Logout")}};(0,n.bv)((()=>{w()}));const V=()=>{a.value=!a.value,l.value=!l.value};return(e,t)=>((0,n.wg)(),(0,n.j4)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(o.q,{style:{width:"100%",height:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(ce.V,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),app:"","mini-variant":a.value,class:"custom-drawer"},{default:(0,n.w5)((()=>[(0,n.Wm)(re.i,{dense:"",nav:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h.J),(0,n.Wm)(de.l,{to:"/user/dashboard"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:"http://localhost:8084/api/images/"+u.value.profile_pic,alt:"User Avatar",style:{"max-width":"50px","max-height":"50px","border-radius":"50%"}},null,8,ve),(0,n._)("span",pe,(0,Y.zw)(u.value.nickname),1)])),_:1}),(0,n.Wm)(de.l,{to:"/user/dashboard"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/dashboard")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-home-city")])),_:1},8,["color"]),_e])),_:1}),(0,n.Wm)(de.l,{to:"/user/myLicense"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/myLicense")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-license")])),_:1},8,["color"]),we])),_:1}),(0,n.Wm)(de.l,{to:"/user/myViolations"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/myViolations")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-alert")])),_:1},8,["color"]),ge])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(de.l,{to:"/user/notifications"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/notifications")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-bell")])),_:1},8,["color"]),(0,n._)("span",null,"Notifications("+(0,Y.zw)(d.value)+")",1)])),_:1}),(0,n.Wm)(de.l,{to:"/user/userSettings"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/userSettings")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-cog")])),_:1},8,["color"]),fe])),_:1}),(0,n.Wm)(de.l,{onClick:W,class:"logout-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,{color:v("/user/logout")},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-power")])),_:1},8,["color"]),he])),_:1})])),_:1})])),_:1},8,["modelValue","mini-variant"]),(0,n.Wm)(ue.L,{app:"",class:"app-bar"},{default:(0,n.w5)((()=>[(0,n._)("div",{class:"background",onClick:V},be),We,ke,Ve])),_:1}),(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,{class:"offset-y"},{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default")])),_:3})])),_:3})])),_:3})])),_:3}))}};const De=(0,r.Z)(xe,[["__scopeId","data-v-5a3933b8"]]);var He=De;const Ue=e=>((0,n.dD)("data-v-b03d0904"),e=e(),(0,n.Cn)(),e),Ce=Ue((()=>(0,n._)("h1",{class:"text-center mt-5 mb-5"},"Home",-1))),Le=Ue((()=>(0,n._)("div",{class:"ms-5"},[(0,n._)("p",{class:"text-h4 text-center mt-3"},"Reminders!!!"),(0,n._)("ul",{class:"text-decoration-none"},[(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Wear Your Helmet:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)("Always wear a helmet when riding a motorcycle. "),(0,n._)("br"),(0,n.Uk)(" Ensure that your helmet is properly fastened for maximum protection.")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Stay Alert on the Road:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)(" Be attentive to your surroundings. "),(0,n._)("br"),(0,n.Uk)(" Avoid distractions such as mobile phones while driving. ")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"No Racing on the Road:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)(" Roads are not race tracks; prioritize safety over speed. "),(0,n._)("br"),(0,n.Uk)(" Follow speed limits and traffic regulations. ")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Avoid Driving Under the Influence:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)(" Never drive under the influence of alcohol or drugs. "),(0,n._)("br"),(0,n.Uk)(" Plan for alternative transportation if you are impaired. ")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Carry Your Documents:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)(" Always have your driver's license, vehicle registration, and insurance. "),(0,n._)("br"),(0,n.Uk)(" Keep these documents readily accessible in your vehicle. ")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Prevent Road Rage:"),(0,n._)("p",{class:"text-muted"},[(0,n.Uk)("Stay calm and composed while driving. "),(0,n._)("br"),(0,n.Uk)(" Avoid aggressive behavior and respect other road users.")])]),(0,n._)("li",null,[(0,n._)("p",{class:"text-h6"},"Remember, adhering to traffic safety rules not only protects you but also contributes to the overall safety of everyone on the road. Stay responsible and prioritize the well-being of yourself and others. ")])]),(0,n._)("p",{class:"text-h6"},"If you have an issue you can call our Hotlines: "),(0,n._)("ul",null,[(0,n._)("li",null,"LTFRB: Mobile No. 0917-704-6862"),(0,n._)("li",null,"Cordova Police: #(032) 496 8164"),(0,n._)("li",null,"Cordova Rural Health Unit: #(032)496‐8031/520‐6132")])],-1))),Se={class:"container bg-white"},qe={class:"container"},ze=Ue((()=>(0,n._)("h4",{class:"text-center"},"Implemented Municipal Traffic Ordinance",-1))),Pe={class:"table table-striped table-bordered table-responsive"},Ae=Ue((()=>(0,n._)("thead",{class:"table-dark"},[(0,n._)("tr",null,[(0,n._)("th",null,"Code"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Fine"),(0,n._)("th",null,"Status")])],-1)));var Ne={__name:"userDashboard",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)("");l.value=localStorage.getItem("user"),a.value=JSON.parse(l.value);const t=(0,m.tv)(),o=()=>{try{if(null!==a.value.email_verified)return!0;t.push("/accountVerify")}catch(e){console.log(e)}},i=(0,N.iH)([]),s=async()=>{try{const e=await A.getAllViolationList();if(e){const l=e.data.violationList;i.value=l}}catch(e){console.log(e)}};return(0,n.bv)((()=>{o(),s()})),(e,l)=>((0,n.wg)(),(0,n.j4)(He,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[Ce,(0,n.Wm)(g._,{class:"elevation-6"},{default:(0,n.w5)((()=>[Le])),_:1})])),_:1}),(0,n._)("div",Se,[(0,n._)("div",qe,[ze,(0,n._)("table",Pe,[Ae,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.value,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("td",null,(0,Y.zw)(e.code),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,(0,Y.zw)(e.status),1)])])))),128))])])])])),_:1}))}};const Te=(0,r.Z)(Ne,[["__scopeId","data-v-b03d0904"]]);var Ie=Te,Ee=a(3121);const Oe=e=>((0,n.dD)("data-v-08320216"),e=e(),(0,n.Cn)(),e),je={key:0,class:"modal"},Fe={class:"modal-content"},Re=Oe((()=>(0,n._)("h2",{class:"text-center"},"Change Profile",-1))),Me={class:"content-container"},Ke={key:0,class:"image-container"},Ze=["src"],Ye={class:"file-upload"},Be={key:1,class:"button-container"};var Je={__name:"userSettingModal",props:{showModal:Boolean},emits:["closeModal"],setup(e,{emit:l}){const a=e,t=l,o=()=>{t("closeModal")},i=(0,N.iH)(null),s=(0,N.iH)({preview:""}),u=(0,N.iH)(!1),r=(0,N.iH)(!1),d=(0,N.iH)(""),c=(0,N.iH)(""),m=(0,N.iH)("");c.value=localStorage.getItem("user"),m.value=JSON.parse(c.value);const v=e=>{const l=e.target.files;if(l.length>0){i.value=l[0];const e=new FileReader;e.onload=e=>{s.value={name:l[0].name,preview:e.target.result},u.value=!0},e.readAsDataURL(l[0]),r.value=!0}},p=async()=>{try{const e=new FormData;e.append("user_id",m.value.id),e.append("profile_pic",i.value);const l=await A.changeProfilePic(e);l?(d.value="",r.value=!1,u.value=!1):console.log(l.data.msg)}catch(e){console.log(e)}};return(e,l)=>a.showModal?((0,n.wg)(),(0,n.iD)("div",je,[(0,n._)("div",Fe,[(0,n._)("span",{class:"close",onClick:o},"×"),Re,(0,n._)("div",Me,[u.value?((0,n.wg)(),(0,n.iD)("div",Ke,[(0,n._)("img",{src:s.value.preview,alt:"Selected Image",class:"preview-image"},null,8,Ze)])):(0,n.kq)("",!0),(0,n._)("div",Ye,[(0,n.Wm)(Ee.Z,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),type:"file",id:"file",onChange:v,accept:"image/png, image/jpeg, image/jpg"},null,8,["modelValue"])]),r.value?((0,n.wg)(),(0,n.iD)("div",Be,[(0,n._)("button",{class:"change-profile-button",onClick:p},"Change Profile Picture")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const $e=(0,r.Z)(Je,[["__scopeId","data-v-08320216"]]);var Ge=$e;const Qe=e=>((0,n.dD)("data-v-8201bd2a"),e=e(),(0,n.Cn)(),e),Xe={key:0,class:"modal"},el={class:"modal-content"},ll={class:"container"},al=Qe((()=>(0,n._)("h2",null,"Change Password",-1))),tl={class:"form-group"},nl=Qe((()=>(0,n._)("label",{for:"newPassword"},"New Password",-1))),ol={key:0},il={class:"form-group"},sl=Qe((()=>(0,n._)("label",{for:"confirmPassword"},"Confirm New Password",-1))),ul={key:1},rl={key:2};var dl={__name:"userChangePassModal",props:{showChangePassModal:Boolean},emits:["closeChangePassModal"],setup(e,{emit:l}){const a=e,o=l,i=()=>{o("closeChangePassModal")},s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(!1),d=(0,N.iH)(null),c=(0,N.iH)(null),m=(0,N.iH)(!1),v=(0,N.iH)(!1),p=(0,N.iH)(""),_=(0,N.iH)("");p.value=localStorage.getItem("user"),_.value=JSON.parse(p.value);const w=()=>{const e=8,l=/[A-Z]/.test(u.value),a=/[a-z]/.test(u.value),t=/\d/.test(u.value);u.value.length>=e&&l&&a&&t?(r.value=!0,d.value="newPassword is Strong"):""==u.value?r.value=!1:(r.value=!0,d.value="newPassword is Weak")},g=()=>{u.value===s.value?(m.value=!0,c.value="Password is valid"):""===s.value?m.value=!1:(m.value=!0,c.value="Password is not The Same")};(0,n.m0)((()=>{"newPassword is Strong"===d.value&&"Password is valid"===c.value?v.value=!0:v.value=!1}));const f=async()=>{try{const e=await A.changePassword({user_id:_.value.id,password:u.value});e?(u.value="",s.value="",m.value=!1,r.value=!1):console.log(e.data.msg)}catch(e){console.log(e)}};return(e,l)=>a.showChangePassModal?((0,n.wg)(),(0,n.iD)("div",Xe,[(0,n._)("div",el,[(0,n._)("span",{class:"close",onClick:i},"×"),(0,n._)("div",ll,[al,(0,n._)("div",tl,[nl,(0,n.wy)((0,n._)("input",{type:"password",id:"newPassword","onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e),required:"",onKeyup:w},null,544),[[t.nr,u.value]])]),r.value?((0,n.wg)(),(0,n.iD)("div",ol,(0,Y.zw)(d.value),1)):(0,n.kq)("",!0),(0,n._)("div",il,[sl,(0,n.wy)((0,n._)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),required:"",onKeyup:g},null,544),[[t.nr,s.value]])]),m.value?((0,n.wg)(),(0,n.iD)("div",ul,(0,Y.zw)(c.value),1)):(0,n.kq)("",!0),v.value?((0,n.wg)(),(0,n.iD)("div",rl,[(0,n._)("button",{type:"button",class:"btn",onClick:f},"Change Password")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const cl=(0,r.Z)(dl,[["__scopeId","data-v-8201bd2a"]]);var ml=cl;const vl=e=>((0,n.dD)("data-v-4b6ca330"),e=e(),(0,n.Cn)(),e),pl={class:"settings-container"},_l=vl((()=>(0,n._)("h1",{class:"text-center"},"Settings",-1))),wl={class:"button-container"};var gl={__name:"userSettings",setup(e){const l=(0,N.iH)(!1),a=(0,N.iH)(!1),t=()=>{a.value=!0},o=()=>{a.value=!1},i=()=>{l.value=!0},s=()=>{l.value=!1};return(e,u)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(He,null,{default:(0,n.w5)((()=>[(0,n._)("div",pl,[_l,(0,n._)("div",wl,[(0,n.Wm)(w.T,{class:"nav-button",onClick:i},{default:(0,n.w5)((()=>[(0,n.Uk)("Change Profile")])),_:1}),(0,n.Wm)(w.T,{class:"nav-button",onClick:t},{default:(0,n.w5)((()=>[(0,n.Uk)("Change Password")])),_:1})])])])),_:1}),(0,n.Wm)(Ge,{"show-modal":l.value,onCloseModal:s},null,8,["show-modal"]),(0,n.Wm)(ml,{"show-change-pass-modal":a.value,onCloseChangePassModal:o},null,8,["show-change-pass-modal"])],64))}};const fl=(0,r.Z)(gl,[["__scopeId","data-v-4b6ca330"]]);var hl=fl,yl=a(6572),bl=a(1888),Wl={__name:"notificationModal",setup(e){const l=(0,m.tv)(),a=(0,N.iH)([]),t=p();a.value=t.notifications;const o=e=>{try{const a=A.markNotificationAsRead({id:e.id});a&&l.push("/user/myLicense")}catch(a){console.log(a)}};return(0,n.m0)((()=>{o()})),(e,l)=>((0,n.wg)(),(0,n.j4)(He,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,{class:"text-h5 text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)("Notifications")])),_:1}),(0,n.Wm)(h.J),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.value,(e=>((0,n.wg)(),(0,n.j4)(g._,{key:e.id,class:(0,Y.C_)(["notification elevation-3 ms-5 me-5",{unread:0===e.isRead}])},{default:(0,n.w5)((()=>[(0,n.Wm)(bl.Z,{class:"notification-content text-h6 text-center"},{default:(0,n.w5)((()=>[(0,n._)("p",null,(0,Y.zw)(e.message),1)])),_:2},1024),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[0===e.isRead?((0,n.wg)(),(0,n.j4)(w.T,{key:0,onClick:l=>o(e),class:"ma-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Mark as Read")])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])),_:2},1024)])),_:2},1032,["class"])))),128))])])),_:1})])),_:1}))}};const kl=(0,r.Z)(Wl,[["__scopeId","data-v-5eb683d2"]]);var Vl=kl;const xl={class:"d-flex justify-center align-center"},Dl={class:"items-center ms-16 ml-16 mt-16"};function Hl(e,l){return(0,n.wg)(),(0,n.iD)("div",xl,[(0,n._)("div",Dl,[(0,n.Wm)(_.w,{color:"warning",icon:"$warning",title:"Warning",text:"This Account is Temporarily Locked Due to various reasons",class:"w-50 ms-16 ml-16 mt-16"}),(0,n.Wm)(w.T,{class:"ms-16",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go Back")])),_:1})])])}const Ul={},Cl=(0,r.Z)(Ul,[["render",Hl]]);var Ll=Cl;const Sl={class:"d-flex justify-center align-center"},ql={class:"items-center ms-16 ml-16 mt-16"};function zl(e,l){return(0,n.wg)(),(0,n.iD)("div",Sl,[(0,n._)("div",ql,[(0,n.Wm)(_.w,{color:"error",icon:"$error",title:"Account has been Deleted",text:"You cannot access this account anymore",class:"w-50 ms-16 ml-16 mt-16"}),(0,n.Wm)(w.T,{class:"ms-16",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go Back")])),_:1})])])}const Pl={},Al=(0,r.Z)(Pl,[["render",zl]]);var Nl=Al,Tl=a(1332),Il=a(6824),El=a(8521),Ol=a(2127),jl=a(7769),Fl=a(8389);const Rl={key:0},Ml={key:0},Kl={key:1},Zl={key:1},Yl=(0,n._)("h2",null,"No Violations Yet",-1);var Bl={__name:"userViolation",setup(e){const l=(0,N.iH)(!0),a=(0,N.iH)([]),t=(0,N.iH)(""),o=(0,N.iH)(""),i=(0,N.iH)([]),s=(0,N.iH)(!1),u=(0,N.iH)(!1),r=(0,N.iH)("");t.value=localStorage.getItem("user"),r.value=JSON.parse(t.value);const d=(0,N.iH)(""),c=async()=>{d.value=r.value.id,console.log(d);try{const e=await A.getMyLicense({user_id:d.value});e&&(a.value=e.data.myLicense,a.value.length>0?(o.value=a.value[0].license_no,2!=a.value[0].is_verified&&(l.value=!0,u.value=!1),console.log("License Number:",o.value),m()):(u.value=!0,l.value=!1))}catch(e){console.error("Error in getMyLicense:",e)}},m=async()=>{try{const e=await A.getMyViolation({license_no:o.value});e?(i.value=e.data.myViolation,l.value=!1,i.value.length>0?s.value=!0:s.value=!1):l.value=!0}catch(e){console.log(e)}};return(0,n.bv)((()=>{c(),m()})),(e,a)=>{const t=(0,n.up)("v-list-item-content"),o=(0,n.up)("v-list-item-group");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(He,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevations-4"},{default:(0,n.w5)((()=>[1==l.value||1==u.value?((0,n.wg)(),(0,n.iD)("div",Rl,[l.value?((0,n.wg)(),(0,n.iD)("div",Ml,[(0,n.Wm)(_.w,{color:"warning",icon:"$warning",title:"Not Verified",text:"Your License is not verify please wait for a moment for the admin to verify your account..."})])):(0,n.kq)("",!0),u.value?((0,n.wg)(),(0,n.iD)("div",Kl,[(0,n.Wm)(_.w,{color:"error",icon:"$error",title:"No License",text:"You Dont have Any License Inserted"})])):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",Zl,[(0,n.Wm)(g._,{class:"elevation-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,{class:"headline"},{default:(0,n.w5)((()=>[(0,n.Uk)("My Violations")])),_:1}),s.value?((0,n.wg)(),(0,n.j4)(Tl.Q,{key:0},{default:(0,n.w5)((()=>[(0,n.Uk)(" View and manage your violations ")])),_:1})):(0,n.kq)("",!0),s.value?((0,n.wg)(),(0,n.j4)(h.J,{key:1})):(0,n.kq)("",!0),(0,n.Wm)(bl.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(re.i,null,{default:(0,n.w5)((()=>[s.value?((0,n.wg)(),(0,n.j4)(o,{key:0,class:"text-center"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.value,(e=>((0,n.wg)(),(0,n.j4)(de.l,{key:e.id},{default:(0,n.w5)((()=>[(0,n.Wm)(t,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Ol.V,{class:"headline"},{default:(0,n.w5)((()=>[(0,n.Uk)("Ticket Number: "+(0,Y.zw)(e.ticket_no),1)])),_:2},1024),(0,n.Wm)(jl.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Unit: "+(0,Y.zw)(e.unit),1)])),_:2},1024),(0,n.Wm)(jl.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Place of Violation: "+(0,Y.zw)(e.place_of_violation),1)])),_:2},1024),(0,n.Wm)(jl.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Date and Time: "+(0,Y.zw)(e.date_and_time),1)])),_:2},1024),(0,n.Wm)(jl.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Apprehending Officer: "+(0,Y.zw)(e.apprehending_officer),1)])),_:2},1024),(0,n.Wm)(jl.o,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Name of The Driver"+(0,Y.zw)(e.name_of_driver),1)])),_:2},1024)])),_:2},1024),(0,n.Wm)(Fl.m,{class:"mt-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"btn btn-primary",to:{name:"viewViolation",props:{id:e.id},params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" View Violation ")])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,n.wg)(),(0,n.j4)(Il.o,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(bl.Z,{class:"text-center"},{default:(0,n.w5)((()=>[Yl])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1})])),_:1})]))])),_:1})])),_:1})])),_:1})])}}};const Jl=Bl;var $l=Jl,Gl=a(1285),Ql=a(4162),Xl=a(1231);const ea=e=>((0,n.dD)("data-v-2f5e9231"),e=e(),(0,n.Cn)(),e),la=ea((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Fine"),(0,n._)("th",null,"Status")])],-1))),aa={class:"text-center"},ta=ea((()=>(0,n._)("p",{class:"font-size: 24px; font-weight: bold; margin-top: 20px; text-align: center; color: #090a0a;"},"Evidences",-1)));function na(e,l,a,t,o,i){const s=(0,n.up)("UserNav");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{class:"mt-2 ms-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/user/myViolations"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go back")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ql.tj,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Xl.Y,{class:"table table-light table-striped"},{default:(0,n.w5)((()=>[la,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.violations,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,(0,Y.zw)(e.status),1)])))),128))])])),_:1})])),_:1}),(0,n._)("p",aa,"TOTAL FINE: "+(0,Y.zw)(t.total),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,null,{default:(0,n.w5)((()=>[ta,(0,n.Wm)(g._,{class:"elevation-2 mt-5 mb-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.evidences,(e=>((0,n.wg)(),(0,n.j4)(El.D,{key:e.id,class:"evidence-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(Gl.f,{src:"http://localhost:8081/api/images/"+e.images,alt:"User Avatar","max-width":"300px","max-height":"300px"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var oa={name:"viewViolation",props:["id"],components:{UserNav:He},setup(e){const l=(0,N.iH)([]),a=(0,N.iH)([]),t=(0,N.iH)(0),o=async()=>{try{const n=await A.getUserViolations({violations_id:e.id});n&&(l.value=n.data.userViolations,a.value=n.data.evidences,l.value.forEach((e=>{t.value+=parseInt(e.fine)})),console.log(t))}catch(n){console.log(n)}};(0,n.bv)((()=>{o()}));const i=(0,n.Fl)((()=>t.value));return{violations:l,evidences:a,total:i}}};const ia=(0,r.Z)(oa,[["render",na],["__scopeId","data-v-2f5e9231"]]);var sa=ia,ua=a(7103),ra=a(8952);const da={key:0},ca={key:1},ma=(0,n._)("h1",{class:"text-center mt-5 mb-5"},"MY LICENSE",-1),va=(0,n._)("br",null,null,-1),pa=(0,n._)("br",null,null,-1),_a={class:"ms-5"},wa=(0,n._)("br",null,null,-1),ga=(0,n._)("br",null,null,-1),fa=(0,n._)("br",null,null,-1),ha=(0,n._)("br",null,null,-1),ya=(0,n._)("br",null,null,-1),ba=(0,n._)("br",null,null,-1),Wa=(0,n._)("br",null,null,-1),ka=(0,n._)("br",null,null,-1),Va={class:"ms-5"},xa=(0,n._)("br",null,null,-1),Da=(0,n._)("br",null,null,-1),Ha=(0,n._)("br",null,null,-1);var Ua={__name:"myLicense",setup(e){const l=(0,N.iH)(null),a=(0,N.iH)(!0),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(!1),d=p(),c=(0,N.iH)(!1),m=()=>{a.value=!a.value},v=(0,N.iH)("");o.value=localStorage.getItem("user"),v.value=JSON.parse(o.value);const _=async()=>{const e=parseInt(v.value.id);console.log(e);try{const a=await A.getMyLicense({user_id:e});a&&(d.setMyLicense(a.data.myLicense),l.value=a.data.myLicense,l.value.length>0&&2==l.value[0].is_verified?(i.value=l.value[0].first_name,s.value=l.value[0].last_name,u.value=l.value[0].middle_name,r.value=!0):r.value=!1,console.log(l.value))}catch(a){console.error("Error in getMyLicense:",a)}},y=(0,n.Fl)((()=>`${i.value} ${s.value} ${u.value.toUpperCase()}`));return(0,n.bv)((async()=>{await _();const e=Date.now(),a=new Date(e),t=a.getFullYear(),n=(a.getMonth()+1).toString().padStart(2,"0"),o=a.getDate().toString().padStart(2,"0"),i=`${t}-${n}-${o}`;i>=l.value[0].expiration_date&&(c.value=!0)})),(e,o)=>((0,n.wg)(),(0,n.j4)(He,null,{default:(0,n.w5)((()=>[c.value?((0,n.wg)(),(0,n.iD)("div",da,[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto","max-width":"900"},{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,{class:"text-h6 text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Your License is Expired Please Renew it and update License Data ")])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{color:"primary",to:"/user/updateLicense"},{default:(0,n.w5)((()=>[(0,n.Uk)("Update Your License")])),_:1})])),_:1})])),_:1})])),_:1})])):((0,n.wg)(),(0,n.iD)("div",ca,[r.value?((0,n.wg)(),(0,n.j4)(b.K,{key:0},{default:(0,n.w5)((()=>[ma,(0,n.Wm)(g._,{class:"mx-auto","max-width":"600"},{default:(0,n.w5)((()=>[(0,n.Wm)(Gl.f,{src:"http://localhost:8081/api/images/"+l.value[0].front_pic,"max-height":"600px","max-width":"600px",cover:""},null,8,["src"]),(0,n.Wm)(yl.E,{class:"text-h6 text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Y.zw)(y.value),1)])),_:1}),(0,n.Wm)(Tl.Q,{class:"text-caption text-center"},{default:(0,n.w5)((()=>[(0,n._)("div",null,"My License Number: "+(0,Y.zw)(l.value[0].license_no),1),(0,n.Wm)(ua.v,{small:"",color:"green",class:"ml-2"},{default:(0,n.w5)((()=>[(0,n.Uk)("Verified")])),_:1})])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{color:"orange-lighten-2",text:"",onClick:e.exploreLicense},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore ")])),_:1},8,["onClick"]),(0,n.Wm)(W.C),(0,n.Wm)(w.T,{icon:"",onClick:m},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,Y.zw)(e.showDescription?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(ra.Fx,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(h.J),(0,n.Wm)(bl.Z,null,{default:(0,n.w5)((()=>[(0,n._)("h4",null,"Address: "+(0,Y.zw)(l.value[0].street)+" "+(0,Y.zw)(l.value[0].baranggay)+" "+(0,Y.zw)(l.value[0].city)+" "+(0,Y.zw)(l.value[0].province),1),(0,n._)("h4",null,[(0,n.Uk)("Personal Info: "),va,(0,n.Uk)(),pa,(0,n._)("h6",_a,[(0,n.Uk)(" Birthday: "+(0,Y.zw)(l.value[0].date_of_birth)+" ",1),wa,(0,n.Uk)(" Blood Type: "+(0,Y.zw)(l.value[0].blood_type)+" ",1),ga,(0,n.Uk)(" Eye Color: "+(0,Y.zw)(l.value[0].eye_color)+" ",1),fa,(0,n.Uk)(" Sex: "+(0,Y.zw)(l.value[0].sex)+" ",1),ha,(0,n.Uk)(" Nationality: "+(0,Y.zw)(l.value[0].nationality)+" ",1),ya,(0,n.Uk)(" Weight: "+(0,Y.zw)(l.value[0].weight)+" ",1),ba,(0,n.Uk)(" Height: "+(0,Y.zw)(l.value[0].height),1)])]),(0,n._)("h4",null,[(0,n.Uk)("License Info: "),Wa,(0,n.Uk)(),ka,(0,n.Uk)(),(0,n._)("h6",Va,[(0,n.Uk)(" Agency Code: "+(0,Y.zw)(l.value[0].agency_code)+" ",1),xa,(0,n.Uk)(" Conditions: "+(0,Y.zw)(l.value[0].conditions)+" ",1),Da,(0,n.Uk)(" Restrictions: "+(0,Y.zw)(l.value[0].restrictions)+" ",1),Ha,(0,n.Uk)(" Expiration Date: "+(0,Y.zw)(l.value[0].expiration_date),1)])])])),_:1})],512),[[t.F8,a.value]])])),_:1})])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(b.K,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto","max-width":"900"},{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,{class:"text-h6 text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)(" You dont have a License Yet Please Add Your License ")])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/user/addLicense"},{default:(0,n.w5)((()=>[(0,n.Uk)("Add License")])),_:1})])),_:1})])),_:1})])),_:1}))]))])),_:1}))}};const Ca=Ua;var La=Ca,Sa=a(8616);const qa=e=>((0,n.dD)("data-v-7544e2bc"),e=e(),(0,n.Cn)(),e),za={key:0},Pa={key:1},Aa={key:2},Na=qa((()=>(0,n._)("div",{class:"icon"},[(0,n._)("svg",{height:"24",width:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,n._)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,n._)("path",{d:"M16.172 11l-5.364-5.364 1.414-1.414L20 12l-7.778 7.778-1.414-1.414L16.172 13H4v-2z",fill:"currentColor"})])],-1))),Ta=qa((()=>(0,n._)("div",{class:"align-center text-center"},null,-1))),Ia=qa((()=>(0,n._)("div",{class:"text-center"},[(0,n._)("h1",null,"License Verification")],-1))),Ea={key:0},Oa=["src"],ja={key:1},Fa=["src"];var Ra={__name:"addLicense",setup(e){const l=(0,N.iH)(null),a=(0,N.iH)(null),t=(0,N.iH)(""),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(""),d=(0,N.iH)(""),c=(0,N.iH)(""),v=(0,N.iH)(""),g=(0,N.iH)(""),f=(0,N.iH)(""),y=(0,N.iH)(""),k=(0,N.iH)(""),x=(0,N.iH)(""),D=(0,N.iH)(""),H=(0,N.iH)(""),U=(0,N.iH)(""),C=(0,N.iH)(""),L=(0,N.iH)(""),S=(0,N.iH)(null),q=(0,N.iH)(null),z=(0,N.iH)(!1),P=(0,N.iH)(!1),T=(0,N.iH)({preview:""}),I=(0,N.iH)({preview:""}),E=(0,N.iH)(!1),O=p(),j=(0,N.iH)(""),F=(0,N.iH)("");j.value=localStorage.getItem("user"),F.value=JSON.parse(j.value);const R=(0,N.iH)([]),M=(0,n.bv)((async()=>{R.value=O.myLicense,""==R.value?E.value=!1:E.value=!0}));(0,n.bv)((()=>{M()}));const K=e=>{const a=e.target.files;if(a.length>0){l.value=a[0];const e=new FileReader;e.onload=e=>{T.value={name:a[0].name,preview:e.target.result},P.value=!0},e.readAsDataURL(a[0])}},Z=e=>{const l=e.target.files;if(l.length>0){a.value=l[0];const e=new FileReader;e.onload=e=>{I.value={name:l[0].name,preview:e.target.result},z.value=!0},e.readAsDataURL(l[0])}};let B=(0,m.tv)();const J=async()=>{try{let e=new FormData;e.append("user_id",F.value.id),e.append("front_pic",l.value),e.append("back_pic",a.value),e.append("license_no",t.value),e.append("expiration_date",o.value),e.append("agency_code",i.value),e.append("blood_type",s.value),e.append("eye_color",u.value),e.append("restrictions",r.value),e.append("conditions",d.value),e.append("first_name",c.value),e.append("last_name",v.value),e.append("middle_name",g.value),e.append("nationality",f.value),e.append("sex",y.value),e.append("date_of_birth",k.value),e.append("weight",x.value),e.append("height",D.value),e.append("street",H.value),e.append("baranggay",U.value),e.append("city",C.value),e.append("province",L.value);const n=await A.insertLicense(e);S.value=n.data.msg,B.push("/user/myLicense")}catch(e){q.value=e.response.data.msg}},$=async()=>{await B.push("/user/dashboard")};return(e,l)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(He,null,{default:(0,n.w5)((()=>[q.value?((0,n.wg)(),(0,n.iD)("div",za,[(0,n.Wm)(_.w,{color:"error",icon:"$error",title:"Error",text:e.msg},null,8,["text"])])):(0,n.kq)("",!0),S.value?((0,n.wg)(),(0,n.iD)("div",Pa,[(0,n.Wm)(_.w,{color:"success",icon:"$success",title:"Success",text:e.msg},null,8,["text"])])):(0,n.kq)("",!0),E.value?((0,n.wg)(),(0,n.iD)("div",Aa,[(0,n._)("div",{class:"verification-message"},[(0,n.Uk)(" Your License is Proceding to verification by admin "),(0,n._)("button",{class:"cssbuttons-io-button",style:{"text-decoration":"none"},onClick:$},[(0,n.Uk)(" Get started "),Na])]),Ta])):((0,n.wg)(),(0,n.j4)(b.K,{key:3},{default:(0,n.w5)((()=>[Ia,(0,n.Wm)(W.C),(0,n.Wm)(h.J),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[P.value?((0,n.wg)(),(0,n.iD)("div",Ea,[(0,n._)("img",{src:T.value.preview,alt:"Selected Image",style:{"max-width":"150px","max-height":"150px"}},null,8,Oa)])):(0,n.kq)("",!0),(0,n.Wm)(El.D,{cols:"12",md:"6",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{label:"Front Picture",variant:"solo-filled",accept:"image/jpeg, image/jpg, image/png",onChange:K})])),_:1}),z.value?((0,n.wg)(),(0,n.iD)("div",ja,[(0,n._)("img",{src:I.value.preview,alt:"Selected Image",style:{"max-width":"150px","max-height":"150px"}},null,8,Fa)])):(0,n.kq)("",!0),(0,n.Wm)(El.D,{cols:"12",md:"6",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{label:"Back Picture",variant:"solo-filled",accept:"image/jpeg, image/jpg, image/png",onChange:Z})])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"12",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),label:"License Number",required:"","hide-details":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),label:"Expiration Date",required:"","hide-details":"",type:"date"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),label:"Agency Code","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=e=>s.value=e),label:"Blood Type",items:["A+","A-","B+","B-","AB+","AB-","O+","O-"]},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:u.value,"onUpdate:modelValue":l[4]||(l[4]=e=>u.value=e),label:"Eye Color",required:"","hide-details":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{label:"Restriction",modelValue:r.value,"onUpdate:modelValue":l[5]||(l[5]=e=>r.value=e),items:[1,2,3,4,5]},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:d.value,"onUpdate:modelValue":l[6]||(l[6]=e=>d.value=e),label:"Conditions","hide-details":"",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:c.value,"onUpdate:modelValue":l[7]||(l[7]=e=>c.value=e),label:"First Name",required:"","hide-details":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:v.value,"onUpdate:modelValue":l[8]||(l[8]=e=>v.value=e),label:"Last Name","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:g.value,"onUpdate:modelValue":l[9]||(l[9]=e=>g.value=e),label:"Middle Name","hide-details":"",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:f.value,"onUpdate:modelValue":l[10]||(l[10]=e=>f.value=e),label:"Nationality",required:"","hide-details":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{label:"Sex",modelValue:y.value,"onUpdate:modelValue":l[11]||(l[11]=e=>y.value=e),items:["Male","Female"]},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:k.value,"onUpdate:modelValue":l[12]||(l[12]=e=>k.value=e),label:"Date of Birth","hide-details":"",required:"",type:"date"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:x.value,"onUpdate:modelValue":l[13]||(l[13]=e=>x.value=e),label:"Weight in Kg",required:"","hide-details":"",type:"number"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:D.value,"onUpdate:modelValue":l[14]||(l[14]=e=>D.value=e),label:"Height in Meter","hide-details":"",required:"",type:"number"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:H.value,"onUpdate:modelValue":l[15]||(l[15]=e=>H.value=e),label:"Street/Sitio","hide-details":"",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:U.value,"onUpdate:modelValue":l[16]||(l[16]=e=>U.value=e),label:"Baranggay",required:"","hide-details":""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:C.value,"onUpdate:modelValue":l[17]||(l[17]=e=>C.value=e),label:"City","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"4",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:L.value,"onUpdate:modelValue":l[18]||(l[18]=e=>L.value=e),label:"Province","hide-details":"",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.C),(0,n.Wm)(W.C),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{class:"success",onClick:J},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])),_:1})])),_:1})])),_:1})),(0,n._)("p",null,(0,Y.zw)(q.value),1)])),_:1})]))}};const Ma=(0,r.Z)(Ra,[["__scopeId","data-v-7544e2bc"]]);var Ka=Ma;const Za={key:0},Ya=["src"],Ba={key:1},Ja=["src"];var $a={__name:"updateLicense",setup(e){const l=(0,N.iH)(null),a=(0,N.iH)(null),t=(0,N.iH)(""),o=(0,N.iH)(!1),i=(0,N.iH)(!1),s=(0,N.iH)({preview:""}),u=(0,N.iH)({preview:""}),r=(0,N.iH)(""),d=(0,N.iH)("");r.value=localStorage.getItem("user"),d.value=JSON.parse(r.value);const c=e=>{const a=e.target.files;if(a.length>0){l.value=a[0];const e=new FileReader;e.onload=e=>{s.value={name:a[0].name,preview:e.target.result},o.value=!0},e.readAsDataURL(a[0])}},v=e=>{const l=e.target.files;if(l.length>0){a.value=l[0];const e=new FileReader;e.onload=e=>{u.value={name:l[0].name,preview:e.target.result},i.value=!0},e.readAsDataURL(l[0])}};let p=(0,m.tv)();const _=async()=>{try{let e=new FormData;e.append("user_id",d.value.id),e.append("front_pic",l.value),e.append("back_pic",a.value),e.append("expiration_date",t.value);const n=await A.updateLicense(e);n?p.push("/user/myLicense"):console.log(n.data.msg)}catch(e){console.log(e)}};return(e,l)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(He,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Update License Form ")])),_:1}),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[o.value?((0,n.wg)(),(0,n.iD)("div",Za,[(0,n._)("img",{src:s.value.preview,alt:"Selected Image",style:{"max-width":"150px","max-height":"150px"}},null,8,Ya)])):(0,n.kq)("",!0),(0,n.Wm)(El.D,{cols:"12",md:"6",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{label:"Front Picture",variant:"solo-filled",accept:"image/jpeg, image/jpg, image/png",onChange:c})])),_:1}),i.value?((0,n.wg)(),(0,n.iD)("div",Ba,[(0,n._)("img",{src:u.value.preview,alt:"Selected Image",style:{"max-width":"150px","max-height":"150px"}},null,8,Ja)])):(0,n.kq)("",!0),(0,n.Wm)(El.D,{cols:"12",md:"6",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{label:"Back Picture",variant:"solo-filled",accept:"image/jpeg, image/jpg, image/png",onChange:v})])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"12",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),label:"Expiration Date",required:"","hide-details":"",type:"date"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{color:"dark",onClick:_},{default:(0,n.w5)((()=>[(0,n.Uk)(" Update My License ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]))}};const Ga=$a;var Qa=Ga;const Xa=["src"],et={class:"text-white ms-2 me-3"};function lt(e,l,a,t,s,u){const r=(0,n.up)("adminNav");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r),(0,n.Wm)(g._,{class:"dashboard-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(o.q,{style:{width:"100%",height:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(ce.V,{modelValue:t.drawer,"onUpdate:modelValue":l[0]||(l[0]=e=>t.drawer=e),app:"",permanent:"",class:"drawer"},{default:(0,n.w5)((()=>[(0,n.Wm)(re.i,{dense:"",nav:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h.J),(0,n._)("img",{src:"http://localhost:8084/api/images/"+t.name.profile_pic,alt:"User Avatar",style:{"max-width":"50px","max-height":"50px","border-radius":"50%"}},null,8,Xa),(0,n._)("span",et,(0,Y.zw)(t.name.nickname),1),(0,n.Wm)(de.l,{"prepend-icon":"mdi-cogs",to:"/admin/adminSettings",class:"nav-item"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Settings ")])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(de.l,{"prepend-icon":"mdi-home-city",title:"Dashboard",value:"dashboard",to:"/admin/adminDashboard",class:"nav-item"}),(0,n.Wm)(de.l,{"prepend-icon":"mdi-account",title:"Verifications",value:"verifications",to:"/admin/adminVerifications",class:"nav-item"})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3})])),_:3})],64)}var at=a(1328);const tt=e=>((0,n.dD)("data-v-69ff82d1"),e=e(),(0,n.Cn)(),e),nt=tt((()=>(0,n._)("img",{src:"http://localhost:8081/images/tiavvslogo.png",alt:"",style:{height:"50px",width:"50px"}},null,-1))),ot=tt((()=>(0,n._)("p",{style:{"font-size":"20px","font-weight":"bold","text-align":"center",color:"#f0f2f3"}},"TIAVVS",-1))),it=tt((()=>(0,n._)("div",{class:"sign"},[(0,n._)("svg",{viewBox:"0 0 512 512"},[(0,n._)("path",{d:"M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c-17.7 0-32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c-17.7 0-32 14.3 32 32s-14.3 32-32 32z"})])],-1))),st=tt((()=>(0,n._)("div",{class:"text"},"Logout",-1)));function ut(e,l,a,t,o,i){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(g._,{elevation:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(at.i,{class:"app-bar bg-dark",dark:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"1"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{to:"/admin/adminDashboard",class:"text-decoration-none white--text"},{default:(0,n.w5)((()=>[nt])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"1"},{default:(0,n.w5)((()=>[ot])),_:1}),(0,n.Wm)(El.D,{cols:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/admin/adminDashboard",class:"button",exact:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/admin/adminUsersInfo",class:"button",exact:""},{default:(0,n.w5)((()=>[(0,n.Uk)("USERS")])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/admin/adminViolationList",class:"button",exact:""},{default:(0,n.w5)((()=>[(0,n.Uk)("VIOLATION")])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"2",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{class:"Btn-logout",onClick:t.logout},{default:(0,n.w5)((()=>[it,st])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var rt={name:"adminNav",setup(){const e=or,l=(0,N.iH)(""),a=(0,N.iH)(""),t=async()=>{try{const t=p();l.value=localStorage.getItem("user"),a.value=JSON.parse(l.value);const n=await A.logout({id:a.value.id});n||console.log("Cannot Logout"),t.logOut(),e.push("/")}catch(t){console.error("Error Logout")}};return{logout:t}}};const dt=(0,r.Z)(rt,[["render",ut],["__scopeId","data-v-69ff82d1"]]);var ct=dt,mt={name:"dashboardSidebar",components:{adminNav:ct},setup(){const e=(0,N.iH)(!0),l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)(""),o=async()=>(l.value=localStorage.getItem("user"),t.value=JSON.parse(l.value),a.value=t.value);return(0,n.bv)((()=>{o()})),{drawer:e,name:a}}};const vt=(0,r.Z)(mt,[["render",lt],["__scopeId","data-v-ff317de4"]]);var pt=vt,_t=a(1632);const wt=(0,n._)("h2",{class:"ms-16 mt-5"},[(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n.Uk)("Home")],-1),gt=(0,n._)("h6",{class:"text-center"},"Violations",-1),ft=(0,n._)("canvas",{id:"lineChart",height:"450",width:"500"},null,-1),ht=(0,n._)("h6",{class:"text-center"},"Users",-1),yt=(0,n._)("canvas",{id:"pieChart",height:"350",width:"350"},null,-1);var bt={__name:"adminDashboard",setup(e){const l=(0,N.iH)([]),a=(0,N.iH)([]),t=(0,N.iH)([]),o=(0,N.iH)(!1),i=(0,N.iH)(!0),s=(0,N.iH)([]);let u=(0,N.iH)(""),r=(0,N.iH)(""),d=(0,N.iH)(""),c=(0,N.iH)("");const m=async()=>{try{const e=await A.getAllViolators();e&&(a.value=e.data.violators,u.value=b.value,r.value=W.value)}catch(e){console.log(e)}},v=async()=>{try{const e=await A.getAllUsers();e&&(l.value=e.data.allUsers,console.log("Online Users:",f.value),d.value=f.value,console.log("Offline Users:",h.value),c.value=h.value,console.log("Verified Users:",y.value))}catch(e){console.log(e)}},p=async()=>{try{const e=await A.getAllLicenseNotYetVerified();e&&(s.value=e.data.licenses)}catch(e){console.log(e)}},_=async()=>{try{const e=await A.getAllLicenseVerified();e&&(t.value=e.data.licenses)}catch(e){console.log(e)}},f=(0,n.Fl)((()=>l.value.filter((e=>"online"===e.status&&"user"===e.user_role)).length)),h=(0,n.Fl)((()=>l.value.filter((e=>"offline"===e.status&&"user"===e.user_role)).length)),y=(0,n.Fl)((()=>l.value.filter((e=>null!=e.email_verified)).length)),b=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status)).length)),W=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status)).length)),k=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Poblacion"===e.place_of_violation)).length)),V=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Poblacion"===e.place_of_violation)).length)),x=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Catarman"===e.place_of_violation)).length)),D=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Catarman"===e.place_of_violation)).length)),H=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Ibabao"===e.place_of_violation)).length)),U=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Ibabao"===e.place_of_violation)).length)),C=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Alegria"===e.place_of_violation)).length)),L=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Alegria"===e.place_of_violation)).length)),S=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Gabi"===e.place_of_violation)).length)),q=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Gabi"===e.place_of_violation)).length)),z=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Gilutungan"===e.place_of_violation)).length)),P=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Gilutungan"===e.place_of_violation)).length)),T=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Pilipog"===e.place_of_violation)).length)),I=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Pilipog"===e.place_of_violation)).length)),E=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Dapitan"===e.place_of_violation)).length)),O=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Dapitan"===e.place_of_violation)).length)),j=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Buagsong"===e.place_of_violation)).length)),F=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Buagsong"===e.place_of_violation)).length)),R=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Day-as"===e.place_of_violation)).length)),M=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Day-as"===e.place_of_violation)).length)),K=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Bangbang"===e.place_of_violation)).length)),Z=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Bangbang"===e.place_of_violation)).length)),B=(0,n.Fl)((()=>a.value.filter((e=>"impound"===e.status&&"Cogon"===e.place_of_violation)).length)),J=(0,n.Fl)((()=>a.value.filter((e=>"normal"===e.status&&"Cogon"===e.place_of_violation)).length));(0,n.bv)((async()=>{await _(),await p()}));const $=(0,n.bv)((async()=>{i.value=!0,o.value=!1,await m();const e={labels:["Poblacion","Catarman","Ibabao","Alegria","Gabi","Gilutungan","Pilipog","Dapitan","Buagsong","Day-as","Bangbang","Cogon"],datasets:[{label:"Impound ("+b.value+")",data:[k.value,x.value,H.value,C.value,S.value,z.value,T.value,E.value,j.value,R.value,K.value,B.value],borderColor:"blue",fill:!1},{label:"Normal ("+W.value+")",data:[V.value,D.value,U.value,L.value,q.value,P.value,I.value,O.value,F.value,M.value,Z.value,J.value],borderColor:"red",fill:!1}]},l={type:"line",data:e,options:{}},a=document.getElementById("lineChart");new _t.ZP(a,l)})),G=(0,n.bv)((async()=>{i.value=!1,o.value=!0,await v();const e=[{label:"Users",data:[c.value,d.value],backgroundColor:["rgba(7, 0, 7, 0.69)","rgba(7, 222, 7, 0.8)"],hoverOffset:4}],l={labels:["Offline ( "+c.value+" )","Online ( "+d.value+" )"],datasets:e},a={type:"pie",data:l},t=document.getElementById("pieChart");new _t.ZP(t,a)}));return(e,l)=>((0,n.wg)(),(0,n.j4)(pt,null,{default:(0,n.w5)((()=>[wt,(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Verified Users "+(0,Y.zw)(y.value),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Verified License "+(0,Y.zw)(t.value.length),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("License Need To Verify "+(0,Y.zw)(s.value.length)+" ",1),(0,n.Wm)(w.T,{to:"/admin/adminVerifications"},{default:(0,n.w5)((()=>[(0,n.Uk)("View")])),_:1})])),_:1})])),_:1})])),_:1}),i.value?((0,n.wg)(),(0,n.j4)(El.D,{key:1,cols:"3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Users "),(0,n.Wm)(w.T,{onClick:(0,N.SU)(G)},{default:(0,n.w5)((()=>[(0,n.Uk)("View")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(El.D,{key:0,cols:"3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Violators "),(0,n.Wm)(w.T,{onClick:(0,N.SU)($)},{default:(0,n.w5)((()=>[(0,n.Uk)("View")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})),(0,n.Wm)(El.D,{cols:"10"},{default:(0,n.w5)((()=>[i.value?((0,n.wg)(),(0,n.j4)(g._,{key:0},{default:(0,n.w5)((()=>[gt,ft])),_:1})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(El.D,{cols:"10"},{default:(0,n.w5)((()=>[o.value?((0,n.wg)(),(0,n.j4)(g._,{key:0},{default:(0,n.w5)((()=>[ht,yt])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1}))}};const Wt=bt;var kt=Wt;const Vt=e=>((0,n.dD)("data-v-99b2d674"),e=e(),(0,n.Cn)(),e),xt={key:0,class:"modal"},Dt={class:"modal-content"},Ht={class:"container"},Ut=Vt((()=>(0,n._)("h2",null,"Change Password",-1))),Ct={class:"form-group"},Lt=Vt((()=>(0,n._)("label",{for:"newPassword"},"New Password",-1))),St={key:0},qt={class:"form-group"},zt=Vt((()=>(0,n._)("label",{for:"confirmPassword"},"Confirm New Password",-1))),Pt={key:1},At={key:2};var Nt={__name:"adminChangePass",props:{showChangePassModal:Boolean},emits:["closeChangePassModal"],setup(e,{emit:l}){const a=e,o=l,i=()=>{o("closeChangePassModal")},s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(!1),d=(0,N.iH)(null),c=(0,N.iH)(null),m=(0,N.iH)(!1),v=(0,N.iH)(!1),p=(0,N.iH)(""),_=(0,N.iH)("");p.value=localStorage.getItem("user"),_.value=JSON.parse(p.value);const w=()=>{const e=8,l=/[A-Z]/.test(u.value),a=/[a-z]/.test(u.value),t=/\d/.test(u.value);u.value.length>=e&&l&&a&&t?(r.value=!0,d.value="newPassword is Strong"):""==u.value?r.value=!1:(r.value=!0,d.value="newPassword is Weak")},g=()=>{u.value===s.value?(m.value=!0,c.value="Password is valid"):""===s.value?m.value=!1:(m.value=!0,c.value="Password is not The Same")};(0,n.m0)((()=>{"newPassword is Strong"===d.value&&"Password is valid"===c.value?v.value=!0:v.value=!1}));const f=async()=>{try{const e=await A.changePassword({user_id:_.value.id,password:u.value});e?(u.value="",s.value="",m.value=!1,r.value=!1):console.log(e.data.msg)}catch(e){console.log(e)}};return(e,l)=>a.showChangePassModal?((0,n.wg)(),(0,n.iD)("div",xt,[(0,n._)("div",Dt,[(0,n._)("span",{class:"close",onClick:i},"×"),(0,n._)("div",Ht,[Ut,(0,n._)("div",Ct,[Lt,(0,n.wy)((0,n._)("input",{type:"password",id:"newPassword","onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e),required:"",onKeyup:w},null,544),[[t.nr,u.value]])]),r.value?((0,n.wg)(),(0,n.iD)("div",St,(0,Y.zw)(d.value),1)):(0,n.kq)("",!0),(0,n._)("div",qt,[zt,(0,n.wy)((0,n._)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),required:"",onKeyup:g},null,544),[[t.nr,s.value]])]),m.value?((0,n.wg)(),(0,n.iD)("div",Pt,(0,Y.zw)(c.value),1)):(0,n.kq)("",!0),v.value?((0,n.wg)(),(0,n.iD)("div",At,[(0,n._)("button",{type:"button",class:"btn",onClick:f},"Change Password")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const Tt=(0,r.Z)(Nt,[["__scopeId","data-v-99b2d674"]]);var It=Tt;const Et={key:0,class:"modal"},Ot={class:"modal-content"},jt={class:"content-container"},Ft={key:0,class:"image-container"},Rt=["src"],Mt={class:"file-upload"},Kt={key:1,class:"button-container"};var Zt={__name:"adminChangePic",props:{showModal:Boolean},emits:["closeModal"],setup(e,{emit:l}){const a=e,t=l,o=()=>{t("closeModal")},i=(0,N.iH)(null),s=(0,N.iH)({preview:""}),u=(0,N.iH)(!1),r=(0,N.iH)(!1),d=(0,N.iH)(""),c=(0,N.iH)(""),m=(0,N.iH)("");c.value=localStorage.getItem("user"),m.value=JSON.parse(c.value);const v=e=>{const l=e.target.files;if(l.length>0){i.value=l[0];const e=new FileReader;e.onload=e=>{s.value={name:l[0].name,preview:e.target.result},u.value=!0},e.readAsDataURL(l[0]),r.value=!0}},p=async()=>{try{const e=new FormData;e.append("user_id",m.value.id),e.append("profile_pic",i.value);const l=await A.changeProfilePic(e);l?(d.value="",r.value=!1,u.value=!1):console.log(l.data.msg)}catch(e){console.log(e)}};return(e,l)=>a.showModal?((0,n.wg)(),(0,n.iD)("div",Et,[(0,n._)("div",Ot,[(0,n._)("span",{class:"close",onClick:o},"×"),(0,n._)("div",jt,[u.value?((0,n.wg)(),(0,n.iD)("div",Ft,[(0,n._)("img",{src:s.value.preview,alt:"Selected Image",class:"preview-image"},null,8,Rt)])):(0,n.kq)("",!0),(0,n._)("div",Mt,[(0,n.Wm)(Ee.Z,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),type:"file",id:"file",onChange:v,accept:"image/png, image/jpeg, image/jpg"},null,8,["modelValue"])]),r.value?((0,n.wg)(),(0,n.iD)("div",Kt,[(0,n._)("button",{class:"change-profile-button",onClick:p},"Change Profile Picture")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const Yt=(0,r.Z)(Zt,[["__scopeId","data-v-b0477136"]]);var Bt=Yt;const Jt=e=>((0,n.dD)("data-v-3d05b021"),e=e(),(0,n.Cn)(),e),$t=Jt((()=>(0,n._)("h1",{class:"text-center"},"Settings",-1))),Gt={key:0};var Qt={__name:"adminSettings",setup(e){const l=(0,N.iH)(!1),a=(0,N.iH)(""),t=(0,N.iH)(!1),o=(0,N.iH)(!1),i=()=>{o.value=!0},s=()=>{o.value=!1},u=()=>{t.value=!0},r=()=>{t.value=!1};return(e,d)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(ct),$t,l.value?((0,n.wg)(),(0,n.iD)("div",Gt,[(0,n.Wm)(_.w,{type:"success",color:"success",icon:"$success",title:"Success",text:a.value},null,8,["text"])])):(0,n.kq)("",!0),(0,n._)("div",{class:"button-container"},[(0,n._)("button",{class:"nav-button",onClick:u},"Change Profile"),(0,n._)("button",{class:"nav-button",onClick:i},"Change Password")]),(0,n.Wm)(Bt,{"show-modal":t.value,onCloseModal:r},null,8,["show-modal"]),(0,n.Wm)(It,{"show-change-pass-modal":o.value,onCloseChangePassModal:s},null,8,["show-change-pass-modal"])]))}};const Xt=(0,r.Z)(Qt,[["__scopeId","data-v-3d05b021"]]);var en=Xt;const ln=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"Verified Licenses",-1),an={class:"mt-5"},tn={class:"table-responsive mt-4"},nn={id:"myDataTable",class:"table-responsive table table-light"},on=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"USER ID"),(0,n._)("th",{scope:"col"},"License Number"),(0,n._)("th",{scope:"col"},"First Name"),(0,n._)("th",{scope:"col"},"Last Name"),(0,n._)("th",{scope:"col"},"Middle Name"),(0,n._)("th",{scope:"col"},"ActionS")])],-1);function sn(e,l,a,t,o,i){const s=(0,n.up)("router-link"),u=(0,n.up)("dashboardSidebarVue");return(0,n.wg)(),(0,n.j4)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-6"},{default:(0,n.w5)((()=>[ln,(0,n._)("div",an,[(0,n.Wm)(s,{class:"ms-3",to:"/admin/adminVerifications"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Go to Not Yet verified Licenses ")])),_:1})])),_:1})]),(0,n._)("div",tn,[(0,n._)("div",null,[(0,n._)("table",nn,[on,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.licenses,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("td",null,(0,Y.zw)(e.user_id),1),(0,n._)("td",null,(0,Y.zw)(e.license_no),1),(0,n._)("td",null,(0,Y.zw)(e.first_name),1),(0,n._)("td",null,(0,Y.zw)(e.last_name),1),(0,n._)("td",null,(0,Y.zw)(e.middle_name),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{to:{name:"adminViewLicense",props:{id:e.id},params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" VIEW ")])),_:2},1032,["to"])])])])))),128))])])])])),_:1})])),_:1})}var un={name:"adminVerified",components:{dashboardSidebarVue:pt},setup(){const e=(0,N.iH)(""),l=(0,N.iH)(null),a=(0,N.iH)(null),t=async()=>{const l=p();try{const a=await A.getAllLicenseVerified();e.value=a.data.licenses,l.setLicenseVerified(e.value)}catch(a){console.error(a)}};return t(),{licenses:e,msg:l,error:a}}};const rn=(0,r.Z)(un,[["render",sn]]);var dn=rn;const cn=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"Not Yet Verified Licenses",-1),mn={class:"mt-5"},vn={class:"table-responsive mt-4"},pn={id:"myDataTable",class:"table table-light table-responsive"},_n=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"USER ID"),(0,n._)("th",null,"License Number"),(0,n._)("th",null,"First Name"),(0,n._)("th",null,"Last Name"),(0,n._)("th",null,"Middle Name"),(0,n._)("th",null,"Actions")])],-1);function wn(e,l,a,t,o,i){const s=(0,n.up)("router-link"),u=(0,n.up)("dashboardSidebarVue");return(0,n.wg)(),(0,n.j4)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-6"},{default:(0,n.w5)((()=>[cn,(0,n._)("div",mn,[(0,n.Wm)(s,{class:"pt-5 ms-3",to:"/admin/adminVerified"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Go to verified License ")])),_:1})])),_:1})]),(0,n._)("div",vn,[(0,n._)("div",null,[(0,n._)("table",pn,[_n,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.licenses,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e},[(0,n._)("tr",null,[(0,n._)("td",null,(0,Y.zw)(e.user_id),1),(0,n._)("td",null,(0,Y.zw)(e.license_no),1),(0,n._)("td",null,(0,Y.zw)(e.first_name),1),(0,n._)("td",null,(0,Y.zw)(e.last_name),1),(0,n._)("td",null,(0,Y.zw)(e.middle_name),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{to:{name:"adminViewLicense",props:{id:e.id},params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" View ")])),_:2},1032,["to"])])])])))),128))])])])])),_:1})])),_:1})}var gn={name:"adminVerifications",components:{dashboardSidebarVue:pt},setup(){const e=(0,N.iH)(""),l=(0,N.iH)(null),a=(0,N.iH)(null),t=async()=>{const l=p();try{const a=await A.getAllLicenseNotYetVerified();e.value=a.data.licenses,l.setLicenseNotYetVerified(e.value)}catch(a){console.error(a)}};return t(),{licenses:e,msg:l,error:a}}};const fn=(0,r.Z)(gn,[["render",wn]]);var hn=fn;const yn=(0,n._)("p",null,"Front Pic",-1),bn=["src"],Wn=(0,n._)("p",null,"Back Pic",-1),kn=["src"],Vn={class:"ms-3 mt-5"};function xn(e,l,a,t,o,i){const s=(0,n.up)("dashboardSidebarVue");return(0,n.wg)(),(0,n.j4)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-6"},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"4"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(El.D,{cols:"4"},{default:(0,n.w5)((()=>[yn,(0,n._)("img",{src:`http://localhost:8081/api/images/${t.license.front_pic}`,alt:"Front Pic",width:"200",height:"200"},null,8,bn)])),_:1}),(0,n.Wm)(El.D,{cols:"4"},{default:(0,n.w5)((()=>[Wn,(0,n._)("img",{src:`http://localhost:8081/api/images/${t.license.back_pic} `,alt:"back Pic",width:"200",height:"200"},null,8,kn)])),_:1})])])),_:1}),(0,n.Wm)(El.D,{class:"mt-5",cols:"7"},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4"},{default:(0,n.w5)((()=>[(0,n._)("div",Vn,[(0,n._)("p",null,"License Number: "+(0,Y.zw)(t.license.license_no),1),(0,n._)("p",null,"Expiration Date: "+(0,Y.zw)(t.license.expiration_date),1),(0,n._)("p",null,"Full name: "+(0,Y.zw)(t.license.first_name)+" "+(0,Y.zw)(t.license.middle_name)+" "+(0,Y.zw)(t.license.last_name),1),(0,n._)("p",null,"Address: "+(0,Y.zw)(t.license.street)+" "+(0,Y.zw)(t.license.baranggay)+" "+(0,Y.zw)(t.license.city)+" "+(0,Y.zw)(t.license.province),1),(0,n._)("p",null,"Birthday: "+(0,Y.zw)(t.license.date_of_birth),1),(0,n._)("p",null,"Blood Type: "+(0,Y.zw)(t.license.blood_type),1),(0,n._)("p",null,"Eye Color: "+(0,Y.zw)(t.license.eye_color),1),(0,n._)("p",null,"Nationality: "+(0,Y.zw)(t.license.nationality),1),(0,n._)("p",null,"Sex: "+(0,Y.zw)(t.license.sex),1),(0,n._)("p",null,"Agency Code: "+(0,Y.zw)(t.license.agency_code),1),(0,n._)("p",null,"Conditions: "+(0,Y.zw)(t.license.conditions),1),(0,n._)("p",null,"Weight(kg): "+(0,Y.zw)(t.license.weight)+"kg",1),(0,n._)("p",null,"Height(m): "+(0,Y.zw)(t.license.height)+"m",1)])])),_:1})])),_:1})])),_:1}),(2===t.license.is_verified?t.checkLicense:!t.checkLicense)?((0,n.wg)(),(0,n.j4)(Il.o,{key:0,class:"mt-5 mb-5 text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(w.T,{class:"mr-3",onClick:l[0]||(l[0]=e=>t.verifyingLicense(t.license))},{default:(0,n.w5)((()=>[(0,n.Uk)("Verify License")])),_:1}),(0,n.Wm)(w.T,{onClick:l[1]||(l[1]=e=>t.denyingLicense(t.license))},{default:(0,n.w5)((()=>[(0,n.Uk)("Deny Verification")])),_:1})])])),_:1})])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}var Dn={name:"adminViewLicense",props:["id"],components:{dashboardSidebarVue:pt},setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(!1),t=or;console.log(e.id);const n=async()=>{try{const a=await A.getAllLicensebyID(e.id);console.log(a.data),a?(l.value=a.data.license,console.log(l.value)):console.log("Error Fetching")}catch(a){console.log(a)}},o=async e=>{try{const l=await A.verifyLicense({id:e.id,user_id:e.user_id});l?t.push("/admin/adminVerifications"):console.log(l.data.msg)}catch(l){console.log(l)}},i=async e=>{try{const l=await A.denyVerification({id:e.id,user_id:e.user_id});l?t.push("/admin/adminVerifications"):console.log(l.data.msg)}catch(l){console.log(l)}};return n(),{license:l,checkLicense:a,verifyingLicense:o,denyingLicense:i}}};const Hn=(0,r.Z)(Dn,[["render",xn]]);var Un=Hn;const Cn=e=>((0,n.dD)("data-v-0a1d92d2"),e=e(),(0,n.Cn)(),e),Ln={class:"mt-2 ms-3"},Sn=Cn((()=>(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"Violations",-1))),qn={class:"table table-responsive table-light table-striped"},zn=Cn((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Fine"),(0,n._)("th",null,"Status")])],-1))),Pn=Cn((()=>(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"UNIT",-1))),An={class:"evidence-list mb-3 mt-2"},Nn=["src"];function Tn(e,l,a,t,o,i){const s=(0,n.up)("dashboardSidebarVue");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4"},{default:(0,n.w5)((()=>[(0,n._)("div",Ln,[(0,n.Wm)(w.T,{to:"/admin/adminViolators"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go back")])),_:1})]),(0,n._)("div",null,[Sn,(0,n.Wm)(g._,{class:"elevation-2"},{default:(0,n.w5)((()=>[(0,n._)("table",qn,[zn,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.violations,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,(0,Y.zw)(e.status),1)])))),128))])])])),_:1}),Pn,(0,n.Wm)(g._,{class:"elevation-2 mt-5 mb-5"},{default:(0,n.w5)((()=>[(0,n._)("div",An,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.evidences,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"evidence-item"},[(0,n._)("img",{src:"http://localhost:8081/api/images/"+e.images,alt:"User Avatar",style:{"max-width":"300px","max-height":"300px"}},null,8,Nn)])))),128))])])),_:1})])])),_:1})])),_:1})])}var In={name:"viewImpounded",props:["id"],components:{dashboardSidebarVue:pt},setup(e){const l=(0,N.iH)([]),a=(0,N.iH)([]),t=async()=>{try{const t=await A.getUserViolations({violations_id:e.id});t&&(l.value=t.data.userViolations,a.value=t.data.evidences)}catch(t){console.log(t)}};return(0,n.bv)((()=>{t()})),{violations:l,evidences:a}}};const En=(0,r.Z)(In,[["render",Tn],["__scopeId","data-v-0a1d92d2"]]);var On=En;const jn=e=>((0,n.dD)("data-v-25570ebe"),e=e(),(0,n.Cn)(),e),Fn={class:"mt-2 ms-3"},Rn=jn((()=>(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"Violations",-1))),Mn={class:"table table-responsive table-light table-striped"},Kn=jn((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Fine"),(0,n._)("th",null,"Status")])],-1))),Zn=jn((()=>(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","margin-top":"20px","text-align":"center",color:"#090a0a"}},"Evidences",-1))),Yn={class:"evidence-list mb-3 mt-2"},Bn=["src"];function Jn(e,l,a,t,o,i){const s=(0,n.up)("dashboardSidebarVue");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4"},{default:(0,n.w5)((()=>[(0,n._)("div",Fn,[(0,n.Wm)(w.T,{to:"/admin/adminViolators"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go back")])),_:1})]),(0,n._)("div",null,[Rn,(0,n.Wm)(g._,{class:"elevation-2"},{default:(0,n.w5)((()=>[(0,n._)("table",Mn,[Kn,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.violations,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,(0,Y.zw)(e.status),1)])))),128))])])])),_:1}),Zn,(0,n.Wm)(g._,{class:"elevation-2 mt-5 mb-5"},{default:(0,n.w5)((()=>[(0,n._)("div",Yn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.evidences,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"evidence-item"},[(0,n._)("img",{src:"http://localhost:8081/api/images/"+e.images,alt:"User Avatar",style:{"max-width":"300px","max-height":"300px"}},null,8,Bn)])))),128))])])),_:1})])])),_:1})])),_:1})])}var $n={name:"viewNormal",props:["id"],components:{dashboardSidebarVue:pt},setup(e){const l=(0,N.iH)([]),a=(0,N.iH)([]),t=async()=>{try{const t=await A.getUserViolations({violations_id:e.id});t&&(l.value=t.data.userViolations,a.value=t.data.evidences)}catch(t){console.log(t)}};return(0,n.bv)((()=>{t()})),{violations:l,evidences:a}}};const Gn=(0,r.Z)($n,[["render",Jn],["__scopeId","data-v-25570ebe"]]);var Qn=Gn;const Xn=["src"],eo={class:"text-white ms-2 me-3"};function lo(e,l,a,t,s,u){const r=(0,n.up)("adminNav");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r),(0,n.Wm)(g._,{class:"dashboard-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(o.q,{style:{width:"100%",height:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(ce.V,{modelValue:t.drawer,"onUpdate:modelValue":l[0]||(l[0]=e=>t.drawer=e),app:"",permanent:"",class:"drawer"},{default:(0,n.w5)((()=>[(0,n.Wm)(re.i,{dense:"",nav:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h.J),(0,n._)("img",{src:"http://localhost:8084/api/images/"+t.name.profile_pic,alt:"User Avatar",style:{"max-width":"50px","max-height":"50px","border-radius":"50%"}},null,8,Xn),(0,n._)("span",eo,(0,Y.zw)(t.name.nickname),1),(0,n.Wm)(de.l,{"prepend-icon":"mdi-cogs",to:"/admin/adminSettings",class:"nav-item"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Settings ")])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(de.l,{"prepend-icon":"mdi-home-city",title:"Violators",to:"/admin/adminViolators",value:"Violators",class:"nav-item"}),(0,n.Wm)(de.l,{"prepend-icon":"mdi-account",title:"Violation List",to:"/admin/adminViolationList",value:"violations List",class:"nav-item"})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3})])),_:3})],64)}var ao={name:"dashboardSidebar",components:{adminNav:ct},setup(){const e=(0,N.iH)(!0),l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)(""),o=async()=>(l.value=localStorage.getItem("user"),t.value=JSON.parse(l.value),a.value=t.value);return(0,n.bv)((()=>{o()})),{drawer:e,name:a}}};const to=(0,r.Z)(ao,[["render",lo],["__scopeId","data-v-a7425aec"]]);var no=to;const oo=(0,n._)("h2",{class:"ms-16 mt-5"},[(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n.Uk)("Violations")],-1),io={key:0},so=(0,n._)("h2",{class:"ms-16 mt-5"},[(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n.Uk)("Normal")],-1),uo={class:"dflex justify-end w-25"},ro={class:"mt-5"},co={class:"table table-responsive table-light table-striped"},mo=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Ticket Number"),(0,n._)("th",null,"License Number"),(0,n._)("th",null,"Unit"),(0,n._)("th",null,"Place of Violation"),(0,n._)("th",null,"Date and Time"),(0,n._)("th",null,"Apprehending Officer"),(0,n._)("th",null,"Name of Driver"),(0,n._)("th",null,"Actions")])],-1),vo={key:1},po=(0,n._)("h2",{class:"ms-16 mt-5"},[(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n.Uk)("Impound")],-1),_o={class:"w-25"},wo={class:"mt-5"},go={class:"table table-responsive table-light table-striped"},fo=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Ticket Number"),(0,n._)("th",null,"Unit"),(0,n._)("th",null,"Place of Violation"),(0,n._)("th",null,"Date and Time"),(0,n._)("th",null,"Apprehending Officer"),(0,n._)("th",null,"Name of Driver"),(0,n._)("th",null,"Actions")])],-1);var ho={__name:"violators_list",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)([]),t=(0,N.iH)([]),o=(0,N.iH)(!1),i=(0,N.iH)(!1),s=(0,N.iH)(""),u=(0,N.iH)(""),r=async()=>{try{const e=await A.getAllViolatorsNormal();e&&(a.value=e.data.violators)}catch(e){console.log(e)}},d=(0,n.Fl)((()=>a.value.filter((e=>e.license_no.toLowerCase().includes(s.value.toLowerCase()))))),c=async()=>{try{const e=await A.getAllViolatorsImpound();e&&(t.value=e.data.violators)}catch(e){console.log(e)}},m=(0,n.Fl)((()=>t.value.filter((e=>e.name_of_driver.toLowerCase().includes(u.value.toLowerCase())))));(0,n.bv)((()=>{r(),c()}));const v=()=>{"Normal"===l.value?(i.value=!1,o.value=!0):(o.value=!1,i.value=!0)};return(e,a)=>((0,n.wg)(),(0,n.j4)(no,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4"},{default:(0,n.w5)((()=>[oo,(0,n.Wm)(Sa.rL,{class:"mt-5",label:"Select Violators",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),items:["Normal","Empound"],onChange:v},null,8,["modelValue"]),("Normal"==l.value?!o.value:i.value)?((0,n.wg)(),(0,n.iD)("div",io,[so,(0,n._)("div",uo,[(0,n.Wm)(V.h,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),color:"primary",label:"Search..",placeholder:"Search licence no....",type:"text"},null,8,["modelValue"])]),(0,n._)("div",ro,[(0,n._)("table",co,[mo,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.ticket_no),1),(0,n._)("td",null,(0,Y.zw)(e.license_no),1),(0,n._)("td",null,(0,Y.zw)(e.unit),1),(0,n._)("td",null,(0,Y.zw)(e.place_of_violation),1),(0,n._)("td",null,(0,Y.zw)(e.date_and_time),1),(0,n._)("td",null,(0,Y.zw)(e.apprehending_officer),1),(0,n._)("td",null,(0,Y.zw)(e.name_of_driver),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{to:{name:"viewNormal",props:{id:e.id},params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" View Violation ")])),_:2},1032,["to"])])])))),128))])])])])):((0,n.wg)(),(0,n.iD)("div",vo,[po,(0,n._)("div",_o,[(0,n.Wm)(V.h,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value=e),color:"primary",label:"Search..",placeholder:"Search Driver's Name....",type:"text"},null,8,["modelValue"])]),(0,n._)("div",wo,[(0,n._)("table",go,[fo,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.ticket_no),1),(0,n._)("td",null,(0,Y.zw)(e.unit),1),(0,n._)("td",null,(0,Y.zw)(e.place_of_violation),1),(0,n._)("td",null,(0,Y.zw)(e.date_and_time),1),(0,n._)("td",null,(0,Y.zw)(e.apprehending_officer),1),(0,n._)("td",null,(0,Y.zw)(e.name_of_driver),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{to:{name:"viewImpounded",props:{id:e.id},params:{id:e.id}}},{default:(0,n.w5)((()=>[(0,n.Uk)(" View Violation ")])),_:2},1032,["to"])])])))),128))])])])]))])),_:1})])),_:1}))}};const yo=ho;var bo=yo;const Wo=(0,n._)("h2",{class:"ms-16 mt-5"},[(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n._)("span",{class:"ms-16"}),(0,n.Uk)("Traffic Ordinace")],-1),ko={class:"mb-5"},Vo={key:0},xo={key:1},Do={key:2,class:"mb-5"},Ho={class:"container"},Uo=(0,n._)("p",{class:"text-center"},"Insert Violation",-1),Co={class:"table-responsive"},Lo={class:"display table table-white",style:{width:"100%"}},So={scope:"col"},qo={scope:"col"},zo={scope:"col"},Po={scope:"col"},Ao={scope:"col"},No=(0,n._)("th",{scope:"col"},"Actions",-1),To={key:0},Io={key:1},Eo=["onClick"];var Oo={__name:"violation_list",setup(e){const l=(0,N.iH)([]),a=(0,N.iH)(!1),t=(0,N.iH)({}),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(""),d=(0,N.iH)(""),c=(0,N.iH)(""),m=(0,N.iH)(1),v=async()=>{try{const e=await A.AllViolationsList();l.value=e.data.violationList}catch(e){console.error(e)}};v();const p=e=>{e===c.value?m.value*=-1:(c.value=e,m.value=1)},g=(0,n.Fl)((()=>l.value.slice().sort(((e,l)=>{const a=e[c.value],t=l[c.value];return a<t?1*m.value:a>t?-1*m.value:0})))),f=async e=>{console.log(e.id);try{const l=await A.updateViolationStatus({id:e.id,status:d.value});l&&(r.value=l.data.msg,t.value={},v())}catch(l){u.value=l.response.data.msg}},h=async e=>{console.log(e.id);try{const l=await A.deleteViolationList({id:e.id});l&&(r.value=l.data.msg,v())}catch(l){console.log(l),u.value=l.response.data.msg}},y=()=>{a.value=!a.value,console.log(a.value)},b=e=>{void 0===t.value[e.id]&&(t.value[e.id]=!1),t.value[e.id]=!t.value[e.id]},W=async()=>{try{const e=await A.insertViolations({code:o.value,name:i.value,fine:s.value});e&&(r.value=e.data.msg,o.value="",i.value="",s.value="",v())}catch(e){console.log(e),u.value=e.response.data.msg}};return(e,l)=>((0,n.wg)(),(0,n.j4)(no,null,{default:(0,n.w5)((()=>[Wo,(0,n._)("div",ko,[r.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"success",icon:"$success",title:"Success",text:r.value},null,8,["text"])):(0,n.kq)("",!0),u.value?((0,n.wg)(),(0,n.j4)(_.w,{key:1,color:"error",icon:"$error",title:"Error",text:u.value},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(w.T,{onClick:y},{default:(0,n.w5)((()=>[a.value?((0,n.wg)(),(0,n.iD)("span",xo,"Close Violation Form")):((0,n.wg)(),(0,n.iD)("span",Vo,"Open Violation Form"))])),_:1}),a.value?((0,n.wg)(),(0,n.iD)("div",Do,[(0,n._)("div",Ho,[Uo,(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",md:"12",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),label:"Code",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"12",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),label:"Name",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"12",md:"12",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=e=>s.value=e),type:"number",label:"Fine",required:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(w.T,{onClick:W},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])])):(0,n.kq)("",!0),(0,n._)("div",Co,[(0,n._)("table",Lo,[(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",So,[(0,n.Wm)(w.T,{onClick:l[3]||(l[3]=e=>p("code"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Code")])),_:1})]),(0,n._)("th",qo,[(0,n.Wm)(w.T,{onClick:l[4]||(l[4]=e=>p("name"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Name")])),_:1})]),(0,n._)("th",zo,[(0,n.Wm)(w.T,{onClick:l[5]||(l[5]=e=>p("fine"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Fine")])),_:1})]),(0,n._)("th",Po,[(0,n.Wm)(w.T,{onClick:l[6]||(l[6]=e=>p("status"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Status")])),_:1})]),(0,n._)("th",Ao,[(0,n.Wm)(w.T,{onClick:l[7]||(l[7]=e=>p("date_created"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Date Created")])),_:1})]),(0,n._)("th",null,[(0,n.Wm)(w.T,{onClick:l[8]||(l[8]=e=>p("date_updated"))},{default:(0,n.w5)((()=>[(0,n.Uk)("Date Updated")])),_:1})]),No])]),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.code),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,[t.value[e.id]?((0,n.wg)(),(0,n.iD)("div",Io,[(0,n.Wm)(Sa.rL,{modelValue:d.value,"onUpdate:modelValue":l[9]||(l[9]=e=>d.value=e),label:e.status,items:["implemented","disable"]},null,8,["modelValue","label"]),(0,n._)("button",{type:"button",onClick:l=>f(e)},"Update",8,Eo)])):((0,n.wg)(),(0,n.iD)("div",To,(0,Y.zw)(e.status),1))]),(0,n._)("td",null,(0,Y.zw)(e.date_created),1),(0,n._)("td",null,(0,Y.zw)(e.date_updated),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{onClick:l=>b(e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Toggle Edit")])),_:2},1032,["onClick"]),(0,n.Wm)(w.T,{onClick:l=>h(e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Remove Violation")])),_:2},1032,["onClick"])])])))),128))])])])])])),_:1}))}};const jo=Oo;var Fo=jo;const Ro=["src"],Mo={class:"text-white ms-2 me-3"};function Ko(e,l,a,t,s,u){const r=(0,n.up)("adminNav");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r),(0,n.Wm)(g._,{class:"dashboard-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(o.q,{style:{width:"100%",height:"100%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(ce.V,{modelValue:t.drawer,"onUpdate:modelValue":l[0]||(l[0]=e=>t.drawer=e),app:"",permanent:"",class:"drawer"},{default:(0,n.w5)((()=>[(0,n.Wm)(re.i,{dense:"",nav:""},{default:(0,n.w5)((()=>[(0,n.Wm)(h.J),(0,n._)("img",{src:"http://localhost:8084/api/images/"+t.name.profile_pic,alt:"User Avatar",style:{"max-width":"50px","max-height":"50px","border-radius":"50%"}},null,8,Ro),(0,n._)("span",Mo,(0,Y.zw)(t.name.nickname),1),(0,n.Wm)(de.l,{"prepend-icon":"mdi-cogs",to:"/admin/adminSettings",class:"nav-item"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Settings ")])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(de.l,{"prepend-icon":"mdi-account",to:"/admin/adminEnforcersInfo",title:"enforcers",value:"ENFORCERS",class:"nav-item"}),(0,n.Wm)(de.l,{"prepend-icon":"mdi-account",to:"/admin/adminUsersInfo",title:"users",value:"USERS",class:"nav-item"})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3})])),_:3})],64)}var Zo={name:"dashboardSidebar",components:{adminNav:ct},setup(){const e=(0,N.iH)(!0),l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)(""),o=async()=>(l.value=localStorage.getItem("user"),t.value=JSON.parse(l.value),a.value=t.value);return(0,n.bv)((()=>{o()})),{drawer:e,name:a}}};const Yo=(0,r.Z)(Zo,[["render",Ko],["__scopeId","data-v-1792a686"]]);var Bo=Yo;const Jo={class:"mb-5 align-center w-50"},$o={class:""},Go={class:"table-light table-stripe table table-responsive"},Qo=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"ID"),(0,n._)("th",{scope:"col"},"Nickname"),(0,n._)("th",{scope:"col"},"Email"),(0,n._)("th",{scope:"col"},"Last Logged-in"),(0,n._)("th",{scope:"col"},"Actions")])],-1),Xo={key:0},ei={key:1};var li={__name:"usersList",setup(e){const l=(0,N.iH)(!0),a=(0,N.iH)([]),o=(0,N.iH)(""),i=async()=>{try{const e=await A.getAllUsers();if(!e)throw Error("Empty Users");a.value=e.data.allUsers}catch(e){console.log(e)}};i();const s=(0,n.Fl)((()=>a.value.filter((e=>e.nickname.toLowerCase().includes(o.value.toLowerCase()))))),u=async e=>{try{const l=A.enableUser({id:e.id});l&&i()}catch(l){console.log(l)}},r=async e=>{try{const l=A.disableUser({id:e.id});l&&i()}catch(l){console.log(l)}};return(e,a)=>((0,n.wg)(),(0,n.j4)(Bo,null,{default:(0,n.w5)((()=>[(0,n._)("div",Jo,[(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),color:"primary",label:"Search..",placeholder:"Search Nickname....",type:"text"},null,8,["modelValue"])]),(0,n._)("div",$o,[(0,n._)("table",Go,[Qo,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.value,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.nickname),1),(0,n._)("td",null,(0,Y.zw)(e.email),1),(0,n._)("td",null,(0,Y.zw)(e.lastloggedin),1),(0,n._)("td",null,[1==e.flag?((0,n.wg)(),(0,n.iD)("div",Xo,[(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(w.T,{onClick:l=>r(e)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Disable User ")])),_:2},1032,["onClick"])],512),[[t.F8,l.value]])])):((0,n.wg)(),(0,n.iD)("div",ei,[(0,n.Wm)(w.T,{onClick:l=>u(e)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Enable User ")])),_:2},1032,["onClick"])]))])])])))),128))])])])),_:1}))}};const ai=li;var ti=ai;const ni=e=>((0,n.dD)("data-v-e10fbd3e"),e=e(),(0,n.Cn)(),e),oi={class:"mt-5 mb-3"},ii={class:"mb-5 align-center w-50"},si=ni((()=>(0,n._)("br",null,null,-1))),ui={key:0},ri={key:1},di={key:0},ci={class:"subscribe mb-5"},mi=ni((()=>(0,n._)("p",null,"Sending Registration Form",-1))),vi=ni((()=>(0,n._)("br",null,null,-1))),pi={class:"table-light table-stripe table table-responsive"},_i=ni((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"ID"),(0,n._)("th",{scope:"col"},"Nickname"),(0,n._)("th",{scope:"col"},"Email"),(0,n._)("th",{scope:"col"},"Last Logged-in"),(0,n._)("th",{scope:"col"},"Actions")])],-1))),wi={key:0},gi={key:1};var fi={__name:"enforcersList",setup(e){const l=(0,N.iH)(!0),a=(0,N.iH)([]),o=(0,N.iH)(""),i=(0,N.iH)(!1),s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(""),d=async()=>{try{const e=await q.Z.post("http://localhost:8084/api/send-registration-form",{email:s.value});e&&(i.value=!1,s.value=null,r.value=e.data.msg)}catch(e){console.log(e),u.value=e.response.data.msg}},c=async()=>{try{const e=await A.getAllEnforcer();if(!e)throw Error("Empty Users");a.value=e.data.allEnforcers}catch(u){console.log(u)}};c();const m=async e=>{try{const l=await A.removeEnforcer({id:e.id});l&&(r.value=l.data.msg,c())}catch(l){console.log(l),u.value=l.response.data.msg}},v=async()=>{i.value=!i.value},p=(0,n.Fl)((()=>a.value?a.value.filter((e=>e.nickname.toLowerCase().includes(o.value.toLowerCase()))):[])),g=async e=>{try{const l=await A.enableUser({id:e.id});l&&(r.value=l.data.msg,c())}catch(l){console.log(l),u.value=l.response.data.msg}},f=async e=>{try{const l=A.disableUser({id:e.id});l&&(r.value=l.data.msg,c())}catch(l){console.log(l),u.value=l.response.data.msg}};return(e,a)=>((0,n.wg)(),(0,n.j4)(Bo,null,{default:(0,n.w5)((()=>[(0,n._)("div",oi,[r.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"success",icon:"$success",title:"Success",text:r.value},null,8,["text"])):(0,n.kq)("",!0),u.value?((0,n.wg)(),(0,n.j4)(_.w,{key:1,color:"error",icon:"$error",title:"Error",text:u.value},null,8,["text"])):(0,n.kq)("",!0)]),(0,n._)("div",ii,[(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),color:"primary",label:"Search..",placeholder:"Search Username....",type:"text"},null,8,["modelValue"]),si,(0,n.Wm)(w.T,{class:"mb-2",onClick:v},{default:(0,n.w5)((()=>[i.value?((0,n.wg)(),(0,n.iD)("span",ri,"Close Enforcer Send Email Form")):((0,n.wg)(),(0,n.iD)("span",ui,"Open Enforcer Send Email Form"))])),_:1}),i.value?((0,n.wg)(),(0,n.iD)("div",di,[(0,n._)("div",null,[(0,n._)("div",ci,[mi,(0,n.wy)((0,n._)("input",{placeholder:"Your e-mail",class:"subscribe-input",name:"email",type:"email",required:"","onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e)},null,512),[[t.nr,s.value]]),vi,(0,n._)("div",{class:"submit-btn",onClick:d},"SEND")])])])):(0,n.kq)("",!0)]),(0,n._)("div",null,[(0,n._)("table",pi,[_i,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(p.value,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.nickname),1),(0,n._)("td",null,(0,Y.zw)(e.email),1),(0,n._)("td",null,(0,Y.zw)(e.lastloggedin),1),(0,n._)("td",null,[(0,n.Wm)(w.T,{onClick:l=>m(e)},{default:(0,n.w5)((()=>[(0,n.Uk)("Remove Enforcer")])),_:2},1032,["onClick"]),1==e.flag?((0,n.wg)(),(0,n.iD)("div",wi,[(0,n.wy)((0,n._)("div",null,[(0,n.Wm)(w.T,{onClick:l=>f(e)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Disable Enforcer ")])),_:2},1032,["onClick"])],512),[[t.F8,l.value]])])):((0,n.wg)(),(0,n.iD)("div",gi,[(0,n.Wm)(w.T,{onClick:l=>g(e)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Enable Enforcer ")])),_:2},1032,["onClick"])]))])])])))),128))])])])),_:1}))}};const hi=(0,r.Z)(fi,[["__scopeId","data-v-e10fbd3e"]]);var yi=hi;const bi=e=>((0,n.dD)("data-v-2a5f9406"),e=e(),(0,n.Cn)(),e),Wi=bi((()=>(0,n._)("p",{style:{"font-size":"20px","font-weight":"bold","text-align":"center",color:"#0c0d0e"},class:"mt-5"},"Dashboard",-1))),ki={key:0},Vi={class:"align-center text-center"},xi={key:0};function Di(e,l,a,t,o,s){const u=(0,n.up)("appbarVue"),r=(0,n.up)("router-link"),d=(0,n.up)("enfoNav");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(u),(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{elevation:"5"},{default:(0,n.w5)((()=>[Wi,(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(V.h,{modelValue:t.search,"onUpdate:modelValue":l[0]||(l[0]=e=>t.search=e),label:"Search License Number...",onInput:t.performSearch,"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue","onInput"])]),""!==t.search?((0,n.wg)(),(0,n.iD)("div",ki,[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.searchResults,(e=>((0,n.wg)(),(0,n.j4)(El.D,{key:e.id,cols:"12",md:"6",lg:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{to:{name:"viewUserViolation",props:{id:e.id},params:{id:e.id}},class:"text-decoration-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"custom-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(yl.E,{class:"headline"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Y.zw)(e.name_of_driver),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("ID: "+(0,Y.zw)(e.id),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Ticket Number: "+(0,Y.zw)(e.ticket_no),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("License Number: "+(0,Y.zw)(e.license_no),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Unit: "+(0,Y.zw)(e.unit),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Place of Violation: "+(0,Y.zw)(e.place_of_violation),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Date and Time: "+(0,Y.zw)(e.date_and_time),1)])),_:2},1024),(0,n.Wm)(Tl.Q,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Apprehending Officer: "+(0,Y.zw)(e.apprehending_officer),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",Vi,[(0,n._)("div",null,[(0,n.Wm)(w.T,{onClick:t.showButtons,class:"custom-button"},{default:(0,n.w5)((()=>[(0,n.Uk)("add Violators")])),_:1},8,["onClick"])]),t.show?((0,n.wg)(),(0,n.iD)("div",xi,[(0,n.Wm)(w.T,{to:"/enforcer/normalCitation",class:"custom-button"},{default:(0,n.w5)((()=>[(0,n.Uk)("Normal Citation")])),_:1}),(0,n.Wm)(w.T,{to:"/enforcer/impoundedCitation",class:"custom-button"},{default:(0,n.w5)((()=>[(0,n.Uk)("Impound Citation")])),_:1})])):(0,n.kq)("",!0)])])),_:1})])),_:1}),(0,n.Wm)(d,{class:"fixed-bottom"})])),_:1})])),_:1})])),_:1})])),_:1})],64)}const Hi=(0,n._)("img",{src:"http://localhost:8081/images/tiavvslogo.png",alt:"",style:{height:"50px",width:"50px"}},null,-1),Ui=(0,n._)("p",{style:{"font-size":"20px","font-weight":"bold","text-align":"center",color:"#f0f2f3"}},"TIAVVS",-1);function Ci(e,l,a,t,o,i){const s=(0,n.up)("router-link");return(0,n.wg)(),(0,n.j4)(g._,{elevation:"2"},{default:(0,n.w5)((()=>[(0,n.Wm)(at.i,{class:"bg-dark"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"1"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{to:"/enforcer/enforcerDashboard",class:"text-decoration-none white--text"},{default:(0,n.w5)((()=>[Hi])),_:1})])),_:1}),(0,n.Wm)(El.D,{cols:"1"}),Ui])),_:1})])),_:1})])),_:1})])),_:1})}var Li={name:"adminNav",setup(){const e=(0,N.iH)(1);(0,n.bv)((()=>{window.addEventListener("scroll",l)}));const l=()=>{const l=window.scrollY||window.pageYOffset;e.value=1-Math.min(l/100,1)};return{appBarOpacity:e}}};const Si=(0,r.Z)(Li,[["render",Ci]]);var qi=Si,zi=a(6728),Pi=a(4454);function Ai(e,l,a,t,o,i){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(Pi.s,{class:"overflow-visible app-bar",style:(0,Y.j5)([{height:"56px",width:"100%"},{opacity:t.appBarOpacity}])},{default:(0,n.w5)((()=>[(0,n.Wm)(zi.N,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),grow:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{icon:"",to:"/enforcer/enforcerDashboard"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-home")])),_:1}),(0,n.Uk)(" Home ")])),_:1}),(0,n.Wm)(w.T,{to:"/enforcer/enforcerOperationHistory"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-map-marker")])),_:1}),(0,n.Uk)(" Operation History ")])),_:1}),(0,n.Wm)(w.T,{icon:"",to:"/enforcer/menu"},{default:(0,n.w5)((()=>[(0,n.Wm)(k.t,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-menu")])),_:1}),(0,n.Uk)(" Menu ")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["style"])])}var Ni={name:"adminNav",setup(){const e=(0,N.iH)(1),l=(0,N.iH)(1);(0,n.bv)((()=>{window.addEventListener("scroll",a)}));const a=()=>{const e=window.scrollY||window.pageYOffset;l.value=1-Math.min(e/100,1)};return{value:e,appBarOpacity:l}}};const Ti=(0,r.Z)(Ni,[["render",Ai],["__scopeId","data-v-36ad1d46"]]);var Ii=Ti,Ei={name:"enforcerDashboard",components:{appbarVue:qi,enfoNav:Ii},setup(){const e=(0,N.iH)(""),l=(0,N.iH)([]),a=(0,N.iH)([]),t=(0,N.iH)(!1),o=async()=>{try{const e=await A.getAllViolators();e&&(a.value=e.data.violators)}catch(e){console.log(e)}};(0,n.bv)((()=>{o()}));const i=async()=>{l.value=a.value.filter((l=>l.license_no&&l.license_no.toLowerCase().includes(e.value.toLowerCase())))},s=async()=>{t.value=!t.value};return{search:e,searchResults:l,performSearch:i,show:t,showButtons:s}}};const Oi=(0,r.Z)(Ei,[["render",Di],["__scopeId","data-v-2a5f9406"]]);var ji=Oi;const Fi=e=>((0,n.dD)("data-v-0b41a935"),e=e(),(0,n.Cn)(),e),Ri=Fi((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Fine"),(0,n._)("th",null,"Status")])],-1))),Mi={class:"text-center"},Ki=Fi((()=>(0,n._)("p",{class:"font-size: 24px; font-weight: bold; margin-top: 20px; text-align: center; color: #090a0a;"},"Evidences",-1)));function Zi(e,l,a,t,o,i){const s=(0,n.up)("appbarVue"),u=(0,n.up)("enfoNav");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(s),(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-4 custom-card"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,{fluid:""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{class:"mt-2 ms-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{to:"/enforcer/enforcerDashboard"},{default:(0,n.w5)((()=>[(0,n.Uk)("Go back")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"elevation-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ql.tj,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Xl.Y,{class:"table table-light table-striped"},{default:(0,n.w5)((()=>[Ri,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.violations,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.name),1),(0,n._)("td",null,(0,Y.zw)(e.fine),1),(0,n._)("td",null,(0,Y.zw)(e.status),1)])))),128))])])),_:1})])),_:1}),(0,n._)("p",Mi,"TOTAL FINE: "+(0,Y.zw)(t.total),1)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,null,{default:(0,n.w5)((()=>[Ki,(0,n.Wm)(g._,{class:"elevation-2 mt-5 mb-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.evidences,(e=>((0,n.wg)(),(0,n.j4)(El.D,{key:e.id,class:"evidence-item"},{default:(0,n.w5)((()=>[(0,n.Wm)(Gl.f,{src:"http://localhost:8081/api/images/"+e.images,alt:"User Avatar","max-width":"300px","max-height":"300px"},null,8,["src"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(u,{class:"fixed-bottom"})])),_:1})])),_:1})])),_:1})])}var Yi={name:"viewUserViolation",props:["id"],components:{appbarVue:qi,enfoNav:Ii},setup(e){const l=(0,N.iH)([]),a=(0,N.iH)([]),t=(0,N.iH)(0),o=async()=>{try{const n=await A.getUserViolations({violations_id:e.id});n&&(l.value=n.data.userViolations,a.value=n.data.evidences,l.value.forEach((e=>{t.value+=parseInt(e.fine)})),console.log(t))}catch(n){console.log(n)}};(0,n.bv)((()=>{o()}));const i=(0,n.Fl)((()=>t.value));return{violations:l,evidences:a,total:i}}};const Bi=(0,r.Z)(Yi,[["render",Zi],["__scopeId","data-v-0b41a935"]]);var Ji=Bi;const $i=e=>((0,n.dD)("data-v-572d5103"),e=e(),(0,n.Cn)(),e),Gi=$i((()=>(0,n._)("p",{style:{"font-size":"20px","font-weight":"bold","text-align":"center",color:"#0c0d0e"}},"Operation History",-1))),Qi={class:"table table-responsive table-light table-striped me-3"},Xi=$i((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"Place Of Operation"),(0,n._)("th",null,"Officers Assigned"),(0,n._)("th",null,"Date And Time")])],-1)));var es={__name:"operationHistory",setup(e){const l=(0,N.iH)([]),a=(0,N.iH)(""),t=async()=>{try{const e=await A.getAllViolators();e&&(l.value=e.data.violators)}catch(e){console.log(e)}};(0,n.bv)((()=>{t()}));const o=(0,n.Fl)((()=>l.value.filter((e=>e.place_of_violation&&e.place_of_violation.toLowerCase().includes(a.value.toLowerCase())))));return(e,l)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(qi),(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{elevation:"5"},{default:(0,n.w5)((()=>[Gi,(0,n.Wm)(i.O,null,{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(Sa.rL,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),label:"Select Locations",items:["","Poblacion","Catarman","Ibabao","Alegria","Gabi","Gilutungan","Pilipog","Dapitan","Buagsong","Day-as","Bangbang","Cogon"]},null,8,["modelValue"])]),(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n._)("table",Qi,[Xi,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.value,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,Y.zw)(e.id),1),(0,n._)("td",null,(0,Y.zw)(e.place_of_violation),1),(0,n._)("td",null,(0,Y.zw)(e.apprehending_officer),1),(0,n._)("td",null,(0,Y.zw)(e.date_and_time),1)])))),128))])])])),_:1})])),_:1}),(0,n.Wm)(Ii,{class:"fixed-bottom"})])),_:1})])),_:1})])),_:1})])),_:1})],64))}};const ls=(0,r.Z)(es,[["__scopeId","data-v-572d5103"]]);var as=ls;const ts=e=>((0,n.dD)("data-v-32d15af5"),e=e(),(0,n.Cn)(),e),ns={class:"menu-container"},os=ts((()=>(0,n._)("h1",{class:"menu-title"},"Menu",-1))),is=["src"],ss={class:"text-black ms-2 me-3"};function us(e,l,a,t,o,i){const s=(0,n.up)("appbarVue"),u=(0,n.up)("enfoNav");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(s),(0,n._)("div",ns,[os,(0,n.Wm)(re.i,{class:"menu-list"},{default:(0,n.w5)((()=>[(0,n._)("img",{src:"http://localhost:8084/api/images/"+t.name.profile_pic,alt:"User Avatar",style:{"max-width":"50px","max-height":"50px","border-radius":"50%"}},null,8,is),(0,n._)("span",ss,(0,Y.zw)(t.name.nickname),1),(0,n.Wm)(h.J),(0,n.Wm)(de.l,{class:"menu-item",to:"/enforcer/enforcerSettings","mb-5":"","prepend-icon":"mdi-cogs",onClick:t.openSettings},{default:(0,n.w5)((()=>[(0,n.Uk)(" Settings ")])),_:1},8,["onClick"]),(0,n.Wm)(de.l,{class:"menu-item","mt-5":"","prepend-icon":"mdi-power",onClick:t.logout},{default:(0,n.w5)((()=>[(0,n.Uk)(" Log Out ")])),_:1},8,["onClick"])])),_:1})]),(0,n.Wm)(u,{class:"fixed-bottom"})],64)}var rs={name:"enforcerMenu",components:{enfoNav:Ii,appbarVue:qi},setup(){const e=or,l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)("");l.value=localStorage.getItem("user");const o=async()=>{t.value=JSON.parse(l.value),a.value=t.value};(0,n.bv)((()=>{o()}));const i=()=>{console.log("Settings clicked")},s=(0,N.iH)(""),u=async()=>{try{const a=p();s.value=JSON.parse(l.value);const t=await A.logout({id:s.value.id});t||console.log("Cannot Logout"),a.logOut(),e.push("/")}catch(a){console.error("Error Logout")}};return{openSettings:i,name:a,logout:u}}};const ds=(0,r.Z)(rs,[["render",us],["__scopeId","data-v-32d15af5"]]);var cs=ds;const ms=e=>((0,n.dD)("data-v-e8c166c0"),e=e(),(0,n.Cn)(),e),vs={key:0,class:"modal"},ps={class:"modal-content"},_s={class:"container"},ws=ms((()=>(0,n._)("h2",null,"Change Password",-1))),gs={class:"form-group"},fs=ms((()=>(0,n._)("label",{for:"newPassword"},"New Password",-1))),hs={key:0},ys={class:"form-group"},bs=ms((()=>(0,n._)("label",{for:"confirmPassword"},"Confirm New Password",-1))),Ws={key:1},ks={key:2};var Vs={__name:"enforcerChangePass",props:{showChangePassModal:Boolean},emits:["closeChangePassModal"],setup(e,{emit:l}){const a=e,o=l,i=()=>{o("closeChangePassModal")},s=(0,N.iH)(""),u=(0,N.iH)(""),r=(0,N.iH)(!1),d=(0,N.iH)(null),c=(0,N.iH)(null),m=(0,N.iH)(!1),v=(0,N.iH)(!1),p=(0,N.iH)(""),w=(0,N.iH)(""),g=(0,N.iH)(""),f=(0,N.iH)("");p.value=localStorage.getItem("user"),w.value=JSON.parse(p.value);const h=()=>{const e=8,l=/[A-Z]/.test(u.value),a=/[a-z]/.test(u.value),t=/\d/.test(u.value);u.value.length>=e&&l&&a&&t?(r.value=!0,d.value="newPassword is Strong"):""==u.value?r.value=!1:(r.value=!0,d.value="newPassword is Weak")},y=()=>{u.value===s.value?(m.value=!0,c.value="Password is valid"):""===s.value?m.value=!1:(m.value=!0,c.value="Password is not The Same")};(0,n.m0)((()=>{"newPassword is Strong"===d.value&&"Password is valid"===c.value?v.value=!0:v.value=!1}));const b=async()=>{try{const e=await A.changePassword({user_id:w.value.id,password:u.value});e&&(u.value="",s.value="",m.value=!1,r.value=!1,g.value=e.data.msg)}catch(e){console.log(e),f.value=e.response.data.msg}};return(e,l)=>a.showChangePassModal?((0,n.wg)(),(0,n.iD)("div",vs,[(0,n._)("div",ps,[(0,n._)("span",{class:"close",onClick:i},"×"),g.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"success",icon:"$success",title:"Success",text:g.value},null,8,["text"])):(0,n.kq)("",!0),f.value?((0,n.wg)(),(0,n.j4)(_.w,{key:1,color:"error",icon:"$error",title:"Error",text:f.value},null,8,["text"])):(0,n.kq)("",!0),(0,n._)("div",_s,[ws,(0,n._)("div",gs,[fs,(0,n.wy)((0,n._)("input",{type:"password",id:"newPassword","onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e),required:"",onKeyup:h},null,544),[[t.nr,u.value]])]),r.value?((0,n.wg)(),(0,n.iD)("div",hs,(0,Y.zw)(d.value),1)):(0,n.kq)("",!0),(0,n._)("div",ys,[bs,(0,n.wy)((0,n._)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),required:"",onKeyup:y},null,544),[[t.nr,s.value]])]),m.value?((0,n.wg)(),(0,n.iD)("div",Ws,(0,Y.zw)(c.value),1)):(0,n.kq)("",!0),v.value?((0,n.wg)(),(0,n.iD)("div",ks,[(0,n._)("button",{type:"button",class:"btn",onClick:b},"Change Password")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const xs=(0,r.Z)(Vs,[["__scopeId","data-v-e8c166c0"]]);var Ds=xs;const Hs=e=>((0,n.dD)("data-v-cddf9f28"),e=e(),(0,n.Cn)(),e),Us={key:0,class:"modal"},Cs={class:"modal-content"},Ls=Hs((()=>(0,n._)("h2",{class:"text-center"},"Change Profile pic",-1))),Ss={class:"content-container"},qs={key:0,class:"image-container"},zs=["src"],Ps={class:"file-upload"},As={key:1,class:"button-container"};var Ns={__name:"enforcerChangePic",props:{showModal:Boolean},emits:["closeModal"],setup(e,{emit:l}){const a=e,t=l,o=()=>{t("closeModal")},i=(0,N.iH)(null),s=(0,N.iH)({preview:""}),u=(0,N.iH)(!1),r=(0,N.iH)(!1),d=(0,N.iH)(""),c=(0,N.iH)(""),m=(0,N.iH)(""),v=(0,N.iH)(""),p=(0,N.iH)("");c.value=localStorage.getItem("user"),m.value=JSON.parse(c.value);const w=e=>{const l=e.target.files;if(l.length>0){i.value=l[0];const e=new FileReader;e.onload=e=>{s.value={name:l[0].name,preview:e.target.result},u.value=!0},e.readAsDataURL(l[0]),r.value=!0}},g=async()=>{try{const e=new FormData;e.append("user_id",m.value.id),e.append("profile_pic",i.value);const l=await A.changeProfilePic(e);l&&(d.value="",r.value=!1,u.value=!1,v.value=l.data.msg)}catch(e){console.log(e),p.value=e.response.data.msg}};return(e,l)=>a.showModal?((0,n.wg)(),(0,n.iD)("div",Us,[(0,n._)("div",Cs,[(0,n._)("span",{class:"close",onClick:o},"×"),v.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"success",icon:"$success",title:"Success",text:v.value},null,8,["text"])):(0,n.kq)("",!0),p.value?((0,n.wg)(),(0,n.j4)(_.w,{key:1,color:"error",icon:"$error",title:"Error",text:p.value},null,8,["text"])):(0,n.kq)("",!0),Ls,(0,n._)("div",Ss,[u.value?((0,n.wg)(),(0,n.iD)("div",qs,[(0,n._)("img",{src:s.value.preview,alt:"Selected Image",class:"preview-image"},null,8,zs)])):(0,n.kq)("",!0),(0,n._)("div",Ps,[(0,n.Wm)(Ee.Z,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),type:"file",id:"file",onChange:w,accept:"image/png, image/jpeg, image/jpg"},null,8,["modelValue"])]),r.value?((0,n.wg)(),(0,n.iD)("div",As,[(0,n._)("button",{class:"change-profile-button",onClick:g},"Change Profile Picture")])):(0,n.kq)("",!0)])])])):(0,n.kq)("",!0)}};const Ts=(0,r.Z)(Ns,[["__scopeId","data-v-cddf9f28"]]);var Is=Ts;const Es=e=>((0,n.dD)("data-v-293d29c6"),e=e(),(0,n.Cn)(),e),Os=Es((()=>(0,n._)("h1",{class:"text-center"},"Settings",-1)));var js={__name:"enforcerSettings",setup(e){const l=(0,N.iH)(!1),a=(0,N.iH)(!1),t=()=>{a.value=!0},o=()=>{a.value=!1},i=()=>{l.value=!0},s=()=>{l.value=!1};return(e,u)=>((0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(qi),(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{elevation:"5"},{default:(0,n.w5)((()=>[Os,(0,n._)("div",{class:"button-container"},[(0,n._)("button",{class:"nav-button",onClick:i},"Change Profile"),(0,n._)("button",{class:"nav-button",onClick:t},"Change Password")]),(0,n.Wm)(Is,{"show-modal":l.value,onCloseModal:s},null,8,["show-modal"]),(0,n.Wm)(Ds,{"show-change-pass-modal":a.value,onCloseChangePassModal:o},null,8,["show-change-pass-modal"]),(0,n.Wm)(Ii,{class:"fixed-bottom"})])),_:1})])),_:1})])),_:1})])),_:1})]))}};const Fs=(0,r.Z)(js,[["__scopeId","data-v-293d29c6"]]);var Rs=Fs;const Ms=e=>((0,n.dD)("data-v-45e59558"),e=e(),(0,n.Cn)(),e),Ks=Ms((()=>(0,n._)("div",{class:"button-box"},[(0,n._)("span",{class:"button-elem"},[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 46 40"},[(0,n._)("path",{d:"M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"})])]),(0,n._)("span",{class:"button-elem"},[(0,n._)("svg",{viewBox:"0 0 46 40"},[(0,n._)("path",{d:"M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"})])])],-1))),Zs=Ms((()=>(0,n._)("div",{class:"text-center"},[(0,n._)("h1",null,"Normal Citation")],-1))),Ys={key:0},Bs=["src"];var Js={__name:"normalCitation",setup(e){const l=(0,N.iH)("");let a=(0,N.iH)(!1);const o=()=>{a.value=!a.value},s=(0,N.iH)({ticket_no:"",license_no:"",unit:"",place_of_violation:"",name_of_driver:""}),u=(0,N.iH)(1),r=(0,N.qj)({violations:[],fines:[]}),d=(0,N.qj)({files:[],otherProperty:"images"}),c=(0,N.iH)([]),m=e=>{const l=e.target.files;c.value=l,d.files=[];for(let a=0;a<l.length;a++){const e=new FileReader;e.onload=e=>{d.files.push({name:l[a].name,preview:e.target.result})},e.readAsDataURL(l[a])}};(0,n.m0)((()=>{u.value>=10?u.value=10:u.value<=-1&&(u.value=0)}));const v=(0,N.iH)([]),p=async()=>{try{const e=await A.getAllViolationList();if(e){const l=e.data.violationList;v.value=l.map((e=>e.name))}}catch(e){console.log(e)}};(0,n.bv)((()=>{p()}));const f=(0,N.iH)([]),h=(0,N.iH)(""),y=(0,N.iH)([]),W=async()=>{f.value=localStorage.getItem("user"),h.value=JSON.parse(f.value);const e=new FormData;for(let l=0;l<c.value.length;l++)e.append("evidences",c.value[l]);for(let l=0;l<r.violations.length;l++)e.append("specific_violations",r.violations[l]);for(let l=0;l<r.fines.length;l++)e.append("fines",r.fines[l]);e.append("ticket_no",s.value.ticket_no),e.append("license_no",s.value.license_no),e.append("unit",s.value.unit),e.append("place_of_violation",s.value.place_of_violation),e.append("name_of_driver",s.value.name_of_driver),e.append("apprehending_officer",h.value.nickname);try{const l=await A.normalCitation(e,{headers:{"Content-Type":"multipart/form-data"}});l&&location.reload()}catch(a){l.value=a.response.data.msg}};return(e,c)=>{const p=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(qi),(0,n._)("div",null,[(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{elevation:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(i.O,{class:"mb-5"},{default:(0,n.w5)((()=>[l.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"error",icon:"$error",title:"Error",text:l.value},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(p,{class:"button",to:"/enforcer/enforcerDashboard"},{default:(0,n.w5)((()=>[Ks])),_:1}),Zs,(0,n.Wm)(b.K,{class:"mb-10 text-center"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{placeholder:"Type the number of Violation","onUpdate:modelValue":c[0]||(c[0]=e=>u.value=e),class:"input",name:"text",type:"number",min:"0",max:"10"},null,512),[[t.nr,u.value]]),(0,n._)("button",{type:"button",onClick:o,class:"custom-button"},"activate citation"),(0,N.SU)(a)?((0,n.wg)(),(0,n.iD)("div",Ys,[(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:s.value.ticket_no,"onUpdate:modelValue":c[1]||(c[1]=e=>s.value.ticket_no=e),label:"Ticket number",required:"","hide-details":"",type:"number"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:s.value.license_no,"onUpdate:modelValue":c[2]||(c[2]=e=>s.value.license_no=e),label:"License Number","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:s.value.unit,"onUpdate:modelValue":c[3]||(c[3]=e=>s.value.unit=e),label:"Unit","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{modelValue:r.violations[e-1],"onUpdate:modelValue":l=>r.violations[e-1]=l,label:"violations","hide-details":"",required:"",items:v.value,id:"violations-"+e},null,8,["modelValue","onUpdate:modelValue","items","id"]),(0,n.Wm)(V.h,{modelValue:r.fines[e-1],"onUpdate:modelValue":l=>r.fines[e-1]=l,label:"Fine","hide-details":"",required:"",type:"number",id:"fines-"+e},null,8,["modelValue","onUpdate:modelValue","id"])])),_:2},1024)])))),128)),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{modelValue:s.value.place_of_violation,"onUpdate:modelValue":c[4]||(c[4]=e=>s.value.place_of_violation=e),label:"Place of Violation","hide-details":"",items:["Poblacion","Catarman","Ibabao","Alegria","Gabi","Gilutungan","Pilipog","Dapitan","Buagsong","Day-as","Bangbang","Cogon"],required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:s.value.name_of_driver,"onUpdate:modelValue":c[5]||(c[5]=e=>s.value.name_of_driver=e),label:"Drivers name","hide-details":"",required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{type:"file",modelValue:y.value,"onUpdate:modelValue":c[6]||(c[6]=e=>y.value=e),label:"Evidences",accept:"image/jpeg, image/jpg, image/png",multiple:"",onChange:m},null,8,["modelValue"])])),_:1}),(0,n._)("div",null,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.files,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e.name},[(0,n._)("img",{src:e.preview,alt:"Selected Image",style:{"max-width":"100px","max-height":"100px"}},null,8,Bs)])))),128))])]),(0,n.Wm)(El.D,{cols:"10",md:"4",mb:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{onClick:W,class:"custom-button"},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])),_:1})])):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(Ii,{class:"pt-5 fixed-bottom"})])),_:1})])),_:1})])),_:1})])),_:1})])],64)}}};const $s=(0,r.Z)(Js,[["__scopeId","data-v-45e59558"]]);var Gs=$s;const Qs=e=>((0,n.dD)("data-v-3d13482a"),e=e(),(0,n.Cn)(),e),Xs=Qs((()=>(0,n._)("div",{class:"button-box"},[(0,n._)("span",{class:"button-elem"},[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 46 40"},[(0,n._)("path",{d:"M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"})])]),(0,n._)("span",{class:"button-elem"},[(0,n._)("svg",{viewBox:"0 0 46 40"},[(0,n._)("path",{d:"M46 20.038c0-.7-.3-1.5-.8-2.1l-16-17c-1.1-1-3.2-1.4-4.4-.3-1.2 1.1-1.2 3.3 0 4.4l11.3 11.9H3c-1.7 0-3 1.3-3 3s1.3 3 3 3h33.1l-11.3 11.9c-1 1-1.2 3.3 0 4.4 1.2 1.1 3.3.8 4.4-.3l16-17c.5-.5.8-1.1.8-1.9z"})])])],-1))),eu=Qs((()=>(0,n._)("div",{class:"text-center"},[(0,n._)("h1",null,"Impound Citation")],-1))),lu={key:0},au={key:0},tu=["src"];var nu={__name:"impoundCitations",setup(e){const l=(0,N.iH)({preview:""}),a=(0,N.iH)(!1),o=(0,N.iH)(null),s=(0,N.iH)("");let u=(0,N.iH)(!1);const r=()=>{u.value=!u.value},d=(0,N.iH)({ticket_no:"",unit:"",place_of_violation:"",name_of_driver:""}),c=(0,N.iH)(1),m=(0,N.qj)({violations:[],fines:[]}),v=(0,N.iH)([]),p=(0,N.iH)(""),f=e=>{const t=e.target.files;if(t.length>0){o.value=t[0];const e=new FileReader;e.onload=e=>{l.value={name:t[0].name,preview:e.target.result},a.value=!0},e.readAsDataURL(t[0])}};(0,n.m0)((()=>{c.value>=10?c.value=10:c.value<=-1&&(c.value=0)}));const h=(0,N.iH)([]),y=async()=>{try{const e=await A.getAllViolationList();if(e){const l=e.data.violationList;h.value=l.map((e=>e.name))}}catch(e){console.log(e)}};(0,n.bv)((()=>{y()}));const W=async()=>{v.value=localStorage.getItem("user"),p.value=JSON.parse(v.value);const e=new FormData;e.append("evidences",o.value);for(let a=0;a<m.violations.length;a++)e.append("specific_violations",m.violations[a]);for(let a=0;a<m.fines.length;a++)e.append("fines",m.fines[a]);e.append("ticket_no",d.value.ticket_no),e.append("unit",d.value.unit),e.append("place_of_violation",d.value.place_of_violation),e.append("name_of_driver",d.value.name_of_driver),e.append("apprehending_officer",p.value.nickname);try{const l=await A.impoundCitation(e,{headers:{"Content-Type":"application/json"}});l&&location.reload(),console.log(l.data.msg)}catch(l){s.value=l.response.data.msg}};return(e,o)=>{const v=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(qi),(0,n._)("div",null,[(0,n.Wm)(b.K,{fluid:"","fill-height":""},{default:(0,n.w5)((()=>[(0,n.Wm)(Il.o,{align:"center",justify:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(El.D,{cols:"12",sm:"10",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{elevation:"5"},{default:(0,n.w5)((()=>[(0,n.Wm)(i.O,{class:"mb-5"},{default:(0,n.w5)((()=>[s.value?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"error",icon:"$error",title:"Error",text:s.value},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(v,{class:"button",to:"/enforcer/enforcerDashboard"},{default:(0,n.w5)((()=>[Xs])),_:1}),eu,(0,n.Wm)(b.K,{class:"mb-10 text-center"},{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("input",{placeholder:"Type the number of Violation","onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),class:"input",name:"text",type:"number",min:"0",max:"10"},null,512),[[t.nr,c.value]]),(0,n._)("button",{type:"button",onClick:r,class:"custom-button"},"activate citation"),(0,N.SU)(u)?((0,n.wg)(),(0,n.iD)("div",lu,[(0,n.Wm)(El.D,{cols:"10",md:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:d.value.ticket_no,"onUpdate:modelValue":o[1]||(o[1]=e=>d.value.ticket_no=e),label:"Ticket number",required:"","hide-details":"",type:"number",class:"text-center"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:d.value.unit,"onUpdate:modelValue":o[2]||(o[2]=e=>d.value.unit=e),label:"Unit","hide-details":"",required:"",class:"text-center"},null,8,["modelValue"])])),_:1}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.value,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e},[(0,n.Wm)(El.D,{cols:"10",md:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{modelValue:m.violations[e-1],"onUpdate:modelValue":l=>m.violations[e-1]=l,label:"violations","hide-details":"",required:"",items:h.value,id:"violations-"+e},null,8,["modelValue","onUpdate:modelValue","items","id"]),(0,n.Wm)(V.h,{modelValue:m.fines[e-1],"onUpdate:modelValue":l=>m.fines[e-1]=l,label:"Fine","hide-details":"",required:"",type:"number",id:"fines-"+e},null,8,["modelValue","onUpdate:modelValue","id"])])),_:2},1024)])))),128)),(0,n.Wm)(El.D,{cols:"10",md:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(Sa.rL,{modelValue:d.value.place_of_violation,"onUpdate:modelValue":o[3]||(o[3]=e=>d.value.place_of_violation=e),label:"Place of Violation","hide-details":"",items:["Poblacion","Catarman","Ibabao","Alegria","Gabi","Gilutungan","Pilipog","Dapitan","Buagsong","Day-as","Bangbang","Cogon"],required:""},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:d.value.name_of_driver,"onUpdate:modelValue":o[4]||(o[4]=e=>d.value.name_of_driver=e),label:"Name of Driver","hide-details":"",required:"",class:"text-center"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(El.D,{cols:"10",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ee.Z,{type:"file",modelValue:e.resetInput,"onUpdate:modelValue":o[5]||(o[5]=l=>e.resetInput=l),label:"Unit Empounded",accept:"image/jpeg, image/jpg, image/png",onChange:f},null,8,["modelValue"])])),_:1}),a.value?((0,n.wg)(),(0,n.iD)("div",au,[(0,n._)("img",{src:l.value.preview,alt:"Selected Image",style:{"max-width":"100px","max-height":"100px"}},null,8,tu)])):(0,n.kq)("",!0),(0,n.Wm)(El.D,{cols:"10",md:"12",mb:"5",class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{onClick:W,class:"custom-button"},{default:(0,n.w5)((()=>[(0,n.Uk)("Submit")])),_:1})])),_:1})])):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(Ii,{class:"pt-5 fixed-bottom"})])),_:1})])),_:1})])),_:1})])),_:1})])],64)}}};const ou=(0,r.Z)(nu,[["__scopeId","data-v-3d13482a"]]);var iu=ou;const su=e=>((0,n.dD)("data-v-38f9a922"),e=e(),(0,n.Cn)(),e),uu={class:"container"},ru={class:"row justify-content-center"},du={class:"col-md-6 mt-5"},cu={class:"card mt-5"},mu={class:"card-body"},vu=su((()=>(0,n._)("h2",{class:"text-center"},"OTP Verification",-1))),pu=["onSubmit"],_u={class:"otp-input-container"},wu=su((()=>(0,n._)("button",{type:"submit"},"Verify Account",-1)));var gu={__name:"verificationPage",setup(e){const l=(0,N.iH)(["","","",""]),a=(0,N.iH)(""),o=(0,m.yj)(),i=(0,m.tv)();a.value=o.params.token;const s=async()=>{const e={"Content-Type":"application/json",Authorization:`Bearer ${a.value}`,"X-Custom-Header":"CustomValue"},t={headers:e};try{const e=l.value.join("");console.log(parseInt(e));const a=await q.Z.post("http://localhost:8081/api/verifyEmail",{verification_code:parseInt(e)},t);a&&i.push("/")}catch(n){console.log(n)}};return(e,a)=>((0,n.wg)(),(0,n.iD)("div",uu,[(0,n._)("div",ru,[(0,n._)("div",du,[(0,n._)("div",cu,[(0,n._)("div",mu,[vu,(0,n._)("form",{onSubmit:(0,t.iM)(s,["prevent"])},[(0,n._)("div",_u,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>l.value[0]=e),class:"otp-input",type:"text",maxlength:"1",pattern:"\\d",required:""},null,512),[[t.nr,l.value[0]]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>l.value[1]=e),class:"otp-input",type:"text",maxlength:"1",pattern:"\\d",required:""},null,512),[[t.nr,l.value[1]]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>l.value[2]=e),class:"otp-input",type:"text",maxlength:"1",pattern:"\\d",required:""},null,512),[[t.nr,l.value[2]]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>l.value[3]=e),class:"otp-input",type:"text",maxlength:"1",pattern:"\\d",required:""},null,512),[[t.nr,l.value[3]]])]),wu],40,pu)])])])])]))}};const fu=(0,r.Z)(gu,[["__scopeId","data-v-38f9a922"]]);var hu=fu;const yu={class:"pt-5 mt-5 authentication"},bu=(0,n._)("img",{src:"tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1),Wu=(0,n._)("p",null,"Forgot Password",-1),ku={class:"text-danger"},Vu={key:0},xu={key:1},Du={class:"pb-3"};var Hu={__name:"forgotPage",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(""),t=async()=>{try{const e=await q.Z.post("http://localhost:8084/api/forgot-password",{email:l.value});e?(l.value=null,a.value=e.data.msg):a.value=e.data.msg}catch(e){console.log(e)}};return(e,a)=>{const o=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",yu,[(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[bu,Wu,(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{type:"Email",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),color:"primary",label:"Email",variant:"underlined",required:""},null,8,["modelValue"])])),_:1}),(0,n._)("div",ku,(0,Y.zw)(e.error),1),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"text-center",onClick:t,color:"success",disabled:e.loading},{default:(0,n.w5)((()=>[e.loading?((0,n.wg)(),(0,n.iD)("span",xu,"Loading...")):((0,n.wg)(),(0,n.iD)("span",Vu,"Send Through Email")),(0,n.Wm)(k.t,{icon:"mdi-chevron-right",end:""})])),_:1},8,["disabled"])])),_:1}),(0,n.Wm)(h.J),(0,n._)("div",Du,[(0,n.Wm)(f.h,{class:"align-center ms-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(o,{to:"/",class:"text-center ms-1",color:"success"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sign in Account")])),_:1})])),_:1})])])),_:1})])),_:1})])}}};const Uu=Hu;var Cu=Uu;const Lu={key:1,class:"pt-5 mt-5 authentication"},Su=(0,n._)("img",{src:"tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1),qu=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","text-align":"center",color:"#007BFF"}},"Account is Not verified",-1);var zu={__name:"verifyAccountPage",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(""),t=(0,N.iH)("");l.value=localStorage.getItem("user"),a.value=JSON.parse(l.value);const o=(0,m.tv)(),i=async()=>{try{const e=await A.sendEmailtoVerify({id:a.value.id,email:a.value.email});e&&(console.log(e.data.msg),s())}catch(e){console.log(e)}},s=async()=>{try{const e=p();t.value=JSON.parse(l.value);const a=await A.logout({id:t.value.id});a||console.log("Cannot Logout"),e.logOut(),o.push("/")}catch(e){console.error("Error Logout")}};return(e,l)=>{const a=(0,n.up)("loadingComponent");return e.loading?((0,n.wg)(),(0,n.j4)(a,{key:0,isLoading:e.loading},null,8,["isLoading"])):((0,n.wg)(),(0,n.iD)("div",Lu,[e.error?((0,n.wg)(),(0,n.j4)(_.w,{key:0,color:"error",icon:"$error",title:"Error",text:e.error},null,8,["text"])):(0,n.kq)("",!0),(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[Su,qu,(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{onClick:i},{default:(0,n.w5)((()=>[(0,n.Uk)("Send to your Email")])),_:1})])),_:1}),(0,n.Wm)(h.J),(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w.T,{class:"bg-danger",onClick:s},{default:(0,n.w5)((()=>[(0,n.Uk)(" Logout ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]))}}};const Pu=zu;var Au=Pu;const Nu={class:"pt-5 mt-5 authentication"},Tu=(0,n._)("img",{src:"../tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1),Iu=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","text-align":"center",color:"#007BFF"}},"NEW PASSWORD",-1),Eu={key:0,class:"text-error"},Ou={class:"text-danger"},ju={key:0},Fu={key:1};var Ru={__name:"changeForgotPassword",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(""),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,m.yj)(),u=(0,m.tv)();o.value=s.params.token;const r=e=>{const l=8,a=/[A-Z]/.test(e),t=/[a-z]/.test(e),n=/\d/.test(e);return e.length>=l&&a&&t&&n},d=async()=>{if(l.value!==a.value)i.value="Password doesnt Match";else if(r(a.value)){const l={"Content-Type":"application/json",Authorization:`Bearer ${o.value}`,"X-Custom-Header":"CustomValue"},t={headers:l};try{const e=await q.Z.post("http://localhost:8084/api/change-forgot-password",{password:a.value},t);e&&(console.log(e.data),u.push("/")),console.log(e.data.msg)}catch(e){console.log(e)}}else i.value="Password is not strong enough"};return(e,o)=>((0,n.wg)(),(0,n.iD)("div",Nu,[(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[Tu,Iu,(0,n.Wm)(y.O,{onSubmit:(0,t.iM)(d,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),color:"primary",label:"New Password",placeholder:"Enter your password",variant:"underlined",type:"password",required:"",onKeyup:r},null,8,["modelValue"]),e.passmsgVisible?((0,n.wg)(),(0,n.iD)("div",Eu,(0,Y.zw)(e.passmsg),1)):(0,n.kq)("",!0),(0,n.Wm)(V.h,{modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),color:"primary",label:"confirm New Password",placeholder:"Enter your password",variant:"underlined",required:"",type:"password"},null,8,["modelValue"])])),_:1}),(0,n._)("div",Ou,(0,Y.zw)(e.error),1),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"text-center",type:"submit",color:"success",disabled:e.loading},{default:(0,n.w5)((()=>[e.loading?((0,n.wg)(),(0,n.iD)("span",Fu,"Loading...")):((0,n.wg)(),(0,n.iD)("span",ju,"Submit New Password")),(0,n.Wm)(k.t,{icon:"mdi-chevron-right",end:""})])),_:1},8,["disabled"])])),_:1}),(0,n.Wm)(h.J)])),_:1},8,["onSubmit"])])),_:1})])),_:1})]))}};const Mu=Ru;var Ku=Mu;const Zu={class:"pt-5 mt-5 authentication"},Yu=(0,n._)("img",{src:"../tiavvsLogo.png",alt:"",srcset:"",style:{height:"75px",width:"75px"}},null,-1),Bu=(0,n._)("p",{style:{"font-size":"24px","font-weight":"bold","text-align":"center",color:"#007BFF"}},"ENFORCER SIGN UP",-1),Ju={key:0,class:"text-error"},$u={key:1,class:"text-error"},Gu={class:"text-danger"},Qu={key:0},Xu={key:1};var er={__name:"enforcerRegistration",setup(e){const l=(0,N.iH)(""),a=(0,N.iH)(""),o=(0,N.iH)(""),i=(0,N.iH)(""),s=(0,N.iH)(null),u=(0,N.iH)(!1),r=(0,N.iH)(!1),d=(0,N.iH)(null),c=(0,N.iH)(null),v=(0,N.iH)(!1),p=(0,N.iH)(""),_=(0,m.yj)(),x=(0,m.tv)();p.value=_.params.token;const D=()=>{l.value.includes(" ")?(r.value=!0,d.value="Please Remove the spaces"):(l.value,r.value=!1)},H=()=>{const e=8,l=/[A-Z]/.test(o.value),a=/[a-z]/.test(o.value),t=/\d/.test(o.value);o.value.length>=e&&l&&a&&t?(v.value=!1,c.value="Password is Strong"):""==o.value?v.value=!1:(v.value=!0,c.value="Password is Weak")},U=async()=>{const e={"Content-Type":"application/json",Authorization:`Bearer ${p.value}`,"X-Custom-Header":"CustomValue"},t={headers:e};if(u.value=!0,o.value!==i.value)s.value="Password doesn't match",u.value=!1;else try{if(""===a.value||""===l.value||""===o.value||""===i.value)s.value="Empty Inputs",u.value=!1;else{const e=await q.Z.post("http://localhost:8084/api/enforcer-registration",{nickname:l.value,email:a.value,password:o.value},t);e&&(setTimeout((()=>{a.value="",l.value="",o.value="",i.value="",s.value=e.data.msg}),1e3),x.push("/"),u.value=!1)}}catch(n){console.error(n),s.value=n.response.data.msg,u.value=!1}};return(e,s)=>((0,n.wg)(),(0,n.iD)("div",Zu,[(0,n.Wm)(b.K,{fluid:"",class:"mt-3 pt-5 pa-3"},{default:(0,n.w5)((()=>[(0,n.Wm)(g._,{class:"mx-auto pt-5 mt-5 registration elevation-16 text-center","max-width":"344"},{default:(0,n.w5)((()=>[Yu,Bu,(0,n.Wm)(y.O,{onSubmit:(0,t.iM)(U,["prevent"])},{default:(0,n.w5)((()=>[(0,n.Wm)(b.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(V.h,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),color:"primary",label:"nickname",variant:"underlined",onKeyup:D,required:""},null,8,["modelValue"]),r.value?((0,n.wg)(),(0,n.iD)("div",Ju,[(0,n._)("span",null,(0,Y.zw)(d.value),1)])):(0,n.kq)("",!0),(0,n.Wm)(V.h,{type:"Email",modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=e=>a.value=e),color:"primary",label:"Email",variant:"underlined",required:""},null,8,["modelValue"]),(0,n.Wm)(V.h,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=e=>o.value=e),color:"primary",label:"Password",placeholder:"Enter your password",variant:"underlined",type:"password",required:"",onKeyup:H},null,8,["modelValue"]),v.value?((0,n.wg)(),(0,n.iD)("div",$u,(0,Y.zw)(c.value),1)):(0,n.kq)("",!0),(0,n.Wm)(V.h,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=e=>i.value=e),color:"primary",label:"confirm Password",placeholder:"Enter your password",variant:"underlined",required:"",type:"password"},null,8,["modelValue"])])),_:1}),(0,n._)("div",Gu,(0,Y.zw)(e.error),1),(0,n.Wm)(f.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W.C),(0,n.Wm)(w.T,{class:"text-center",type:"submit",color:"success",disabled:u.value},{default:(0,n.w5)((()=>[u.value?((0,n.wg)(),(0,n.iD)("span",Xu,"Loading...")):((0,n.wg)(),(0,n.iD)("span",Qu,"Sign up")),(0,n.Wm)(k.t,{icon:"mdi-chevron-right",end:""})])),_:1},8,["disabled"])])),_:1}),(0,n.Wm)(h.J)])),_:1},8,["onSubmit"])])),_:1})])),_:1})]))}};const lr=er;var ar=lr;const tr=[{path:"/",name:"login",component:Z},{path:"/accountVerify",name:"accountVerify",component:Au},{path:"/accountTemporarilyLocked",name:"accountTemporarilyLocked",component:Ll},{path:"/accountDeleted",name:"accountDeleted",component:Nl},{path:"/userRegistration",name:"userRegistration",component:se},{path:"/verifyEmail/:token",name:"verifyEmail",component:hu},{path:"/forgot-password",name:"forgot-password",component:Cu},{path:"/change-forgot-password/:token",name:"change-forgot-password",component:Ku},{path:"/enforcer-registration/:token",name:"enforcer-registration",component:ar},{path:"/user/dashboard",name:"userDashboard",component:Ie,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/myLicense",name:"myLicense",component:La,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/addLicense",name:"addLicense",component:Ka,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/updateLicense",name:"updateLicense",component:Qa,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/userSettings",name:"userSettings",component:hl,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/notifications",name:"userNotifications",component:Vl,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/myViolations",name:"myViolations",component:$l,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/user/viewViolation/:id",name:"viewViolation",component:sa,props:!0,params:!0,meta:{requiresAuth:!0,requiredRoles:["user"]}},{path:"/admin/adminVerifications",name:"adminVerifications",component:hn,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminVerification/:id",name:"adminViewLicense",component:Un,props:!0,params:!0,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/viewNormal/:id",name:"viewNormal",component:Qn,props:!0,params:!0,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/viewImpounded/:id",name:"viewImpounded",component:On,props:!0,params:!0,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminVerified",name:"adminVerified",component:dn,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminDashboard",name:"adminDashboard",component:kt,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminViolators",name:"adminViolators",component:bo,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminViolationList",name:"adminViolationList",component:Fo,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminUsersInfo",name:"adminUsersInfo",component:ti,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminEnforcersInfo",name:"adminEnforcersInfo",component:yi,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/admin/adminSettings",name:"adminSettings",component:en,meta:{requiresAuth:!0,requiredRoles:["admin"]}},{path:"/enforcer/enforcerDashboard",name:"enforcerDashboard",component:ji,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/enforcerOperationHistory",name:"enforcerOperationHistory",component:as,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/viewUserViolation/:id",name:"viewUserViolation",component:Ji,props:!0,params:!0,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/enforcerSettings",name:"enforcerSettings",component:Rs,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/menu",name:"enforcerMenu",component:cs,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/normalCitation",name:"normalCitation",component:Gs,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}},{path:"/enforcer/impoundedCitation",name:"impoundedCitation",component:iu,meta:{requiresAuth:!0,requiredRoles:["enforcer"]}}],nr=(0,m.p7)({history:(0,m.PO)("/"),routes:tr,linkActiveClass:"active",linkExactActiveClass:"exact-active"});nr.beforeEach(((e,l,a)=>{const t=p(),n=e.meta.requiredRoles,o=localStorage.getItem("user");if(e.meta.requiresAuth&&!t.isAuthenticated)a("/");else if(n&&n.length>0){const e=JSON.parse(o),l=e.user_role;l&&n.some((e=>l.includes(e)))?a():a("/unauthorized")}else a()}));var or=nr,ir=(a(9773),a(8753)),sr=(0,ir.Rd)();async function ur(){const e=await a.e(461).then(a.t.bind(a,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}ur();const rr=(0,v.WB)();(0,t.ri)(c).use(or).use(rr).use(sr).mount("#app")}},l={};function a(t){var n=l[t];if(void 0!==n)return n.exports;var o=l[t]={exports:{}};return e[t].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(l,t,n,o){if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],n=e[d][1],o=e[d][2];for(var s=!0,u=0;u<t.length;u++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](t[u])}))?t.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var r=n();void 0!==r&&(l=r)}}return l}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,n,o]}}(),function(){a.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(l,{a:l}),l}}(),function(){var e,l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"===typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"===typeof t.then)return t}var o=Object.create(null);a.r(o);var i={};e=e||[null,l({}),l([]),l(l)];for(var s=2&n&&t;"object"==typeof s&&!~e.indexOf(s);s=l(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return t[e]}}));return i["default"]=function(){return t},a.d(o,i),o}}(),function(){a.d=function(e,l){for(var t in l)a.o(l,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:l[t]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(l,t){return a.f[t](e,l),l}),[]))}}(),function(){a.u=function(e){return"js/webfontloader.d76bd1fd.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={},l="front-end-capstone:";a.l=function(t,n,o,i){if(e[t])e[t].push(n);else{var s,u;if(void 0!==o)for(var r=document.getElementsByTagName("script"),d=0;d<r.length;d++){var c=r[d];if(c.getAttribute("src")==t||c.getAttribute("data-webpack")==l+o){s=c;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",l+o),s.src=t),e[t]=[n];var m=function(l,a){s.onerror=s.onload=null,clearTimeout(v);var n=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(a)})),l)return l(a)},v=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(l,t){var n=a.o(e,l)?e[l]:void 0;if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(a,t){n=e[l]=[a,t]}));t.push(n[2]=o);var i=a.p+a.u(l),s=new Error,u=function(t){if(a.o(e,l)&&(n=e[l],0!==n&&(e[l]=void 0),n)){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+l+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}};a.l(i,u,"chunk-"+l,l)}},a.O.j=function(l){return 0===e[l]};var l=function(l,t){var n,o,i=t[0],s=t[1],u=t[2],r=0;if(i.some((function(l){return 0!==e[l]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(u)var d=u(a)}for(l&&l(t);r<i.length;r++)o=i[r],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},t=self["webpackChunkfront_end_capstone"]=self["webpackChunkfront_end_capstone"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(3620)}));t=a.O(t)})();
//# sourceMappingURL=app.03091f89.js.map